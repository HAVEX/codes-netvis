!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=33)}([function(t,e){var a={};function n(t,e){var a;if(!t.length)return 0;switch(e){case"max":a=t.reduce(function(t,e){return t>e?t:e});break;case"min":a=t.reduce(function(t,e){return t<e?t:e});break;case"and":case"&":a=t.reduce(function(t,e){return t&e});break;case"or":case"|":a=t.reduce(function(t,e){return t|e});break;case"mult":case"*":a=t.reduce(function(t,e){return t*e});break;default:a=t.reduce(function(t,e){return t+e})}return a}a.reduce=function(t){return function(e){return n(e instanceof Array?e:Array.apply(null,arguments),t)}},a.avg=function(t){return n(t,"+")/t.length},a.normalize=function(t){var e=n(t,"max"),a=n(t,"min"),i=e-a;return t.map(function(t){return(t-a)/i})},a.seq=function(t,e,a){for(var n=a||1,i=[],r=t;r<=e;r+=n)i.push(r);return i},["max","min","mult","and","or"].forEach(function(t){a[t]=a.reduce(t)}),a.sum=a.reduce("+"),a.scan=a.pfsum=function(t){for(var e=[],a=0,n=0;n<t.length;n++)a+=t[n],e.push(a);return e},a.iscan=function(t){return a.scan([0].concat(t))},a.diff=function(t,e){var a=[];return t.forEach(function(t){-1===e.indexOf(t)&&a.push(t)}),a},a.intersect=function(t,e){var a;return e.length>t.length&&(a=e,e=t,t=a),t.filter(function(t){if(-1!==e.indexOf(t))return!0})},a.unique=function(t){return t.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[])},a.lcm=function(t){for(var e=t.length,a=Math.abs(t[0]),n=1;n<e;n++){for(var i=Math.abs(t[n]),r=a;a&&i;)a>i?a%=i:i%=a;a=Math.abs(r*t[n])/(a+i)}return a},a.stats=function(t){return{max:n(t,"max"),min:n(t,"min"),avg:t.avg(t)}},a.histogram=function(t,e,a,i){for(var r=t.length,o="number"==typeof i?i:n(t,"min"),s=("number"==typeof a?a:n(t,"max"))-o,u=[],c=new Array(e+1).fill(0),l=0;l<e;l++)u.push([o+s*(l/e),o+s*(l+1)/e]);for(var f=0;f<r;f++)binID=Math.floor((t[f]-o)/s*e),c[binID]++;return c[e-1]+=c[e],{bins:u,counts:c.slice(0,e)}},a.var=function(t){var e=n(t,"+")/t.length;return n(t.map(function(t){return Math.pow(t-e,2)}),"+")/(t.length-1)},a.std=function(t){return Math.sqrt(a.var(t))},t.exports=a},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"int",function(){return n}),a.d(e,"short",function(){return i}),a.d(e,"float",function(){return r}),a.d(e,"double",function(){return o}),a.d(e,"string",function(){return s}),a.d(e,"time",function(){return u}),a.d(e,"temporal",function(){return c}),a.d(e,"integer",function(){return l}),a.d(e,"numeric",function(){return f}),a.d(e,"nominal",function(){return d});const n=Int32Array,i=Int16Array,r=Float32Array,o=Float64Array,s=Uint16Array,u=Float64Array,c=Float64Array,l=Int32Array,f=Float32Array,d=Uint16Array},function(t,e,a){"use strict";(function(t){var n=a(36),i=a(63),r=a(1),o=a(64),s=a(65);e.a=n.a;var u="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this;u.p6=n.a,u.p6.ajax=o,u.p6.cstore=i.a,u.p6.ctypes=r,u.p6.parse=s.a}).call(e,a(3))},function(t,e){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(a=window)}t.exports=a},function(t,e,a){var n=a(0);t.exports=function(t,e,a){var i,r,o,s=t.length,u=a||Object.keys(t[0]),c=[],l={},f=[];if(!e.hasOwnProperty("$group")&&!e.hasOwnProperty("$bin"))return f;if("object"==typeof e.$bin){var d=Object.keys(e.$bin)[0],h=e.$bin[d];if(-1!==u.indexOf(d)){var p=t.map(function(t){return t[d]}),m=n.min(p),b=(n.max(p)-m)/h;for(i=0;i<s;i++)t[i]["bin@"+d]=Math.min(Math.floor(t[i][d]/b),h-1);e.$group="bin@"+d,u.push("bin@"+d)}}for(i=0;i<s;i++)Array.isArray(e.$group)?(o=[],e.$group.forEach(function(e){o.push(t[i][e])}),r=JSON.stringify(o)):r=t[i][e.$group],c.indexOf(r)<0?(c.push(r),l[r]=[t[i]]):l[r].push(t[i]);var v=c.length;for(i=0;i<v;i++){var g={};if(Array.isArray(e.$group)?(o=JSON.parse(c[i]),e.$group.forEach(function(t,e){g[t]=o[e]})):g[e.$group]=c[i],e.$data&&(g.data=l[c[i]]),e.$group)(Array.isArray(e.$group)?e.$group:[e.$group]).forEach(function(t){if(-1===u.indexOf(t))throw Error("Invalid attribute name: ",t)});var y=e.$collect||e.$reduce||[],x=Object.keys(y);if(0===x.length)return f;x.forEach(function(t){var a=t,r=y[t];if("$count"!==r&&"$data"!==r||(a=t),"object"!=typeof y[t]||(r=Object.keys(y[t])[0],a=y[t][r],-1!==u.indexOf(a)||"*"===a||Array.isArray(a))){if("function"==typeof r)g[t]=r.call(null,l[c[i]].map(function(t){return t[a]}));else if("string"==typeof r)if("$unique"===r)g[t]=n.unique(l[c[i]].map(function(e){return e[t]}));else if("$list"===r)g[t]=l[c[i]].map(function(t){return t[a]});else if("$first"===r)g[t]=l[c[i]][0][a];else if("$merge"===r){var o=[];l[c[i]].map(function(t){return t[a]}).forEach(function(t){o=o.concat(t)}),g[t]=o}else if("$count"===r)g[t]=l[c[i]].length;else if("$data"===r)g[t]="*"==e[t][r]?l[c[i]]:l[c[i]].map(function(a){var n={};return e[t][r].forEach(function(t){n[t]=a[t]}),n});else{var s=r.slice(1);s in n&&(g[t]=n[s].call(null,l[c[i]].map(function(t){return t[a]})))}}else{var f="No matching attribute or operation defined for the new attribute "+t+":"+e[t];console.warn(f)}}),f.push(g)}return f}},function(t,e){t.exports=function(t,e){var a=t[0];return Array.isArray(a)||(a=[]),t.filter(function(t){if(function t(e,a,n){var i,r,o,s=!0,u=Object.keys(a);u.forEach(function(u){"$not"===u?i=!t(e,a[u],n):"$or"==u||"$and"==u?(i="$and"==u,a[u].forEach(function(a){i="$and"==u?i&t(e,a,n):i|t(e,a,n)})):(o=n.length>0?n.indexOf(u):u,"object"==typeof a[u]?"$"==(r=Object.keys(a[u])[0])[0]&&a[u][r]instanceof Array?"$in"==r||"$nin"==r?i="$nin"==r^a[u][r].indexOf(e[o])>-1:"$inRange"==r?i=e[u]>=a[u][r][0]&e[o]<=a[u][r][1]:"$ninRange"==r?i=e[u]<a[u][r][0]|e[o]>a[u][r][1]:"$inDate"==r&&(i=a[u][r].map(Number).indexOf(+e[o])>-1):a[u]instanceof Array&&(i=e[u]>=a[u][0]&e[o]<=a[u][1]):i="$"===a[u][0]?e[a[u].slice(1)]===e[o]:a[u]==e[o]),s&=i});return s}(t,e,a))return t})}},function(t,e,a){"use strict";e.a=function(t,e){const a="/data/"+t.path,n=t.terminals/t.routers,i=t.routers/t.groups,r=t.localLinkPerRouter||i,l=t.globalLinkPerRouter||n,f=n*i+1,d=i*f;var h=[{url:a+"/dragonfly-msg-stats",dataType:"text"},{url:a+"/dragonfly-router-stats",dataType:"text"},{url:a+"/dragonfly-router-traffic",dataType:"text"}],p=1;t.hasOwnProperty("jobAllocation")&&h.push({url:a+"/"+t.jobAllocation,dataType:"text"});return o.getAll(h).then(function(t){var a=u({array:s(t[0]," "),fields:c,types:["int","int","int","float","float","float","float"],skip:1}).objectArray();if(a.forEach(function(t){t.job_id=-1}),t.length>3&&t[3].length){var o=t[3].split("\n").map(function(t){return t.split(" ")});o.pop(),o.forEach(function(t,e){t.forEach(function(t){var n=parseInt(t);n>=0&&(a[n].job_id=e)})}),p=o.length}var h=u({array:s(t[1]," "),fields:["lp_id","group_id","router_id","local_sat_time","global_sat_time"],types:["int","int","int","veci"+r,"veci"+l],skip:2}).objectArray(),m=u({array:s(t[2]," "),fields:["lp_id","group_id","router_id","local_traffic","global_traffic"],types:["int","int","int","veci"+r,"veci"+l],skip:2}).objectArray(),b=[],v=[];return h.forEach(function(t,e){t.local_sat_time.forEach(function(a,n){var r={};r.group_id=t.group_id,r.router_rank=t.router_id,r.router_id=t.group_id*i+t.router_id,r.router_port=n,r.sat_time=a,r.traffic=m[e].local_traffic[n],r.target_router=t.group_id*i+n,b.push(r)}),t.global_sat_time.forEach(function(a,n){var r={};r.group_id=t.group_id,r.router_rank=t.router_id,r.router_id=t.group_id*i+t.router_id,r.router_port=n,r.sat_time=a,r.traffic=m[e].global_traffic[n],r.target_router=function(t,e,a){var n=e%d+a*i;n==t&&(n=f-1);var r=t%i;t==f-1&&(r=n%i);return n*i+r}(r.group_id,r.router_rank,r.router_port),v.push(r)})}),a.forEach(function(t){t.router_id=Math.floor(t.terminal_id/n),t.router_rank=Math.floor(t.router_id/i),t.router_port=t.terminal_id%n,t.group_id=Math.floor(t.terminal_id/n/i)}),"function"==typeof e&&e({globalLinks:v,localLinks:b,terminals:a}),new Promise(function(t,e){return t({globalLinks:v,localLinks:b,terminals:a,numJobs:p})})})};var n=a(2),i=a(18),r=a.n(i);const o=n.a.ajax,s=n.a.parse,u=r.a.allocate,c=["lp_id","terminal_id","data_size","avg_packet_latency","packets_finished","avg_hops","sat_time"]},function(t,e,a){"use strict";a.d(e,"a",function(){return r});var n=a(1);function i(t,e,a,i){var r,o=i||1,s=(a-e)/o+1;r=new n[t](s);for(var u=0;u<s;u++)r[u]=e+u*o;return r}i.bind(null,"int");let r=i.bind(null,"float")},function(t,e,a){"use strict";e.a=function t(e,a,n,i){var r=this instanceof t?this:{},o=e;function s(t){var e=[];return t.forEach(function(t){e=e.concat(t)}),e}r.create=function(t,e,a){if(Array.isArray(a)){var n=a.filter(function(t){return Array.isArray(t)});n&&(a=s(a))}return r[t]={type:e,name:t,data:a,location:null,size:parseInt(e.slice(3,4))||parseInt(e.slice(4,5))||1},r[t].link=function(t){return void 0!==this.data&&null!==this.data&&(this.location=o.getUniformLocation(t,this.name),function(){var t,e=this.type,a=this.location,n=this.size,i=this.data;if(Array.isArray(i)){var r=i.filter(function(t){return Array.isArray(t)});r&&(i=s(i))}"float"!=e&&"int"!=e||Array.isArray(i)||ArrayBuffer.isView(i)||(i=[i]);"vec"==e.slice(0,3)||"float"==e?(t=new Float32Array(i),o["uniform"+n+"fv"](a,t)):"ivec"==e.slice(0,4)||"int"==e?(t=new Int32Array(i),o["uniform"+n+"iv"](a,t)):"mat"==e.slice(0,3)?(t=new Float32Array(i),o["uniformMatrix"+n+"fv"](a,!1,t)):"sampler2D"==e&&i.hasOwnProperty("resourceType")&&"texture"==i.resourceType&&(o.activeTexture(o.TEXTURE0+i.index),o.bindTexture(o.TEXTURE_2D,i.ptr),o.uniform1i(a,i.index))}.call(this)),this},r[t].load=function(t){return this.data=t,this},r[t].header=function(){var t="uniform "+this.type+" "+this.name,a=0;return"sampler2D"!=this.type&&(a=this.data.length/this.size),a>1&&"mat4"!=e&&(t+="["+a+"]"),t+";\n"},r[t]};return r}},function(t,e,a){"use strict";e.a=function t(e){var a=this instanceof t?this:{},i=e,r=0;function o(t,e){var n=i[a[t].type.toUpperCase()],r=i[a[t].channel.toUpperCase()],o=a[t].dim[0],s=a[t].dim[1];a[t].data=e,i.bindTexture(i.TEXTURE_2D,a[t].ptr),i.texImage2D(i.TEXTURE_2D,0,r,o,s,0,r,n,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.bindTexture(i.TEXTURE_2D,null)}a.create=function(t,s,u,c,l,f){var d=a.hasOwnProperty(t)?a[t].index:r++;return a[t]={name:t,index:d,type:s||"float",dim:u||[512,512],channel:c||"alpha",data:null,location:null,sampler:f||null,ptr:i.createTexture()},o(t,l),null===a[t].sampler?a[t].sampler=Object(n.a)(i).create(t,"sampler2D",a[t]):a[t].sampler.data=a[t],a[t].link=function(e){return null!==this.data&&(void 0!==this.sampler.data&&null!==this.sampler.data||(this.sampler.data=a[t]),this.sampler.link(e)),this},a[t].load=function(t){return o(this.name,t),this},a[t].copyFromFBO=function(){i.bindTexture(i.TEXTURE_2D,this.ptr),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,0,0,this.dim[0],this.dim[1],0),i.bindTexture(i.TEXTURE_2D,null)},a[t].update=function(t,e,n){return function(t,e,n,r){var o=i[a[t].type.toUpperCase()],s=i[a[t].channel.toUpperCase()],u=r[0]||a[t].dim[0],c=r[1]||a[t].dim[1];i.bindTexture(i.TEXTURE_2D,a[t].ptr),i.texSubImage2D(i.TEXTURE_2D,0,n[0],n[1],u,c,s,o,e),i.bindTexture(i.TEXTURE_2D,null)}(this.name,t,e,n),this},a[t].resize=function(t,e){this.dim=t,o(this.name,e)},a[t].delete=function(){e.deleteTexture(this.ptr)},a[t].header=function(){return this.name==this.sampler.name?"uniform sampler2D "+this.sampler.name+";\n":""},a[t]};return a};var n=a(8)},function(t,e,a){"use strict";e.a=function t(e,a){var n=this instanceof t?this:{},i=e,r=a,o=i._dict||{};n.vertex={};n.fragment={};var s={vertex:i.VERTEX_SHADER,fragment:i.FRAGMENT_SHADER};function u(t,e,a){var n=t+" "+e+"("+function(t){var e=Object.keys(o);if(e.length>0){var a=new RegExp("\\$\\(("+e.join("|")+")\\)","g");t=t.replace(a,function(t){return o[t.slice(2,t.length-1)]})}return t}(a.toString()).replace(/var\s+([\w|\d]+)\s*=\s*new\s+([\w|\d]+)\((.*)\)/g,function(t,e,a,n){return(n?[a.toLowerCase(),e,"=",n]:[a.toLowerCase(),e]).join(" ")}).replace(/for\s*\(\s*var\s+/g,"for(int ").replace(/var\s/g,"float ").replace(/this./g,"").replace(/\$(.*)\((.*)\)\s*(=|;)/g,"$1 $2 $3");if("main"==e)n=n.replace(/function.*\(\s*([\s\S]*?)\s*{/,"){")+"\n";else{var i=n.match(/function.*\(\s*([\s\S]*?)\s*\)/)[1];""!=i&&(i=i.replace(/\$([\w|\d]+)_/g,"$1 ")),n=n.replace(/function.*\(\s*([\s\S]*?)\s*\)/,i+")")+"\n"}return n}function c(t){var e=t.match(/this\.(\w+)/g);return null!==e&&(e=e.map(function(t){return t.slice(5)})),e||[]}function l(t){var e=r.get(t);if(void 0===e)throw new Error('Resource/dependence "'+t+'" is not found.');return"subroutine"==e.resourceType?u(e.type,e.name,e.fn):e.header()}function f(t){var e={};return t.forEach(function(t,a){e[t]=a}),Object.keys(e)}n.create=function(t,e){var a=t||{},o=a.name||"default",d=a.type||"vertex",h=a.require||a.deps||[],p=a.precision||"high",m=a.debug||!1,b=a.main||e||function(){},v="precision "+p+"p float;\n";0===h.length&&(h=f(function(t){var e=[],a=t.toString(),n=a.match(/function\s.*?\(([^)]*)\)/),i=null!==n&&n.length?n[1]:[];i.length&&(e=i.split(",").map(function(t){return t.replace(/\/\*.*\*\//,"").trim()}).filter(function(t){return t}));var r=c(a);r.length&&(e=e.concat(r.filter(function(t){return-1===e.indexOf(t)})));return e}(b)));var g=[],y=[];if(h.forEach(function(t){var e=r.get(t);if(void 0===e)throw console.log(t),Error("Error! Undefined variable in shader: "+t.name);if("subroutine"==e.resourceType){y.push(e.name);var a=c(e.fn.toString());a.length&&(a.forEach(function(t){var e=r.get(t);"subroutine"==e.resourceType&&(g=g.concat(c(e.fn.toString())))}),g=g.concat(a))}}),g.length){var x=g.concat(h.filter(function(t){return-1===y.indexOf(t)})).concat(y);h=f(x)}Array.isArray(h)?h.forEach(function(t){v+=l(t)}):"object"==typeof h&&Object.keys(h).forEach(function(t){h[t].forEach(function(t){v+=l(t)})}),v+=u("void","main",b),m&&console.log(v);var D=function(t,e){if(t!==i.VERTEX_SHADER&&t!==i.FRAGMENT_SHADER)throw"Error: unknown shader type";var a=i.createShader(t);if(i.shaderSource(a,e),i.compileShader(a),!i.getShaderParameter(a,i.COMPILE_STATUS)){var n=i.getShaderInfoLog(a);throw console.log(e+"\n ===================================================="),new Error("Error compiling shader '"+a+"':"+n)}return a}(s[d],v);return D._shaderType=s[d],D.deps=h,D.source=v,n[d][o]=D,D};return n}},function(t,e,a){"use strict";e.a=function(t,e){var a={},n=t.uniform.uDataDim.data,i=t.uniform.uDeriveCount.data,r=Object.keys(e),o=t.fields,s="\t";r.forEach(function(t,a){var n=new RegExp("("+o.join("|")+")","g"),i=e[t].replace(n,function(t){var e=o.indexOf(t);return"this.getData("+e+", pos.x, pos.y)"});s+="if (index == "+a+") return "+i+"; \n \telse "}),s+=" return 0.0;",t.uniform("uOptMode","float",0).uniform("uDeriveId","int",0).subroutine("getDerivedValue","float",new Function("$int_index","$vec2_pos",s));var u=t.shader.vertex(function(){var t,e,a,n;gl_PointSize=1,t=(this.aDataIdx+.5)/this.uDataDim.x,e=(this.aDataIdy+.5)/this.uDataDim.y,this.vResult=this.getDerivedValue(this.uDeriveId,vec2(t,e)),1==this.uFilterFlag&&0==texture2D(this.fFilterResults,vec2(t,e)).a&&(this.vResult=0);0==this.uOptMode?(a=.5,n=.5):(a=2*t-1,n=2*e-1);gl_Position=vec4(a,n,0,1)}),c=t.shader.fragment(function(){0==this.vResult&&discard;this.uOptMode>0||this.vResult>=0?gl_FragColor=vec4(0,0,1,this.vResult):gl_FragColor=vec4(-1,this.vResult,0,0)}),l=t.createProgram("derive",u,c);function f(){var e=t.program("derive");t.framebuffer.enableRead("fFilterResults"),t.bindFramebuffer("fDerivedValues"),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE),e.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdx.location,0),e.ext.vertexAttribDivisorANGLE(t.attribute.aDataValx.location,0),e.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdy.location,1),e.ext.vertexAttribDivisorANGLE(t.attribute.aDataValy.location,1);var a=[];return r.forEach(function(i,r){t.uniform.uDeriveId=r,e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.viewport(0,0,1,1);var o=new Float32Array(8);e.blendEquation(e.MAX_EXT),e.ext.drawArraysInstancedANGLE(e.POINTS,0,n[0],n[1]),e.viewport(1,0,1,1),e.ext.drawArraysInstancedANGLE(e.POINTS,0,n[0],n[1]),e.blendEquation(e.MIN_EXT),e.ext.drawArraysInstancedANGLE(e.POINTS,0,n[0],n[1]),e.readPixels(0,0,2,1,e.RGBA,e.FLOAT,o);var s=o[4]<0?o[5]:o[7],u=o[2]>0?o[3]:o[1];a[r]=[s,u]}),e.viewport(0,0,n[0],n[1]*i),e.disable(e.BLEND),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),t.uniform.uOptMode=1,r.forEach(function(a,i){t.uniform.uDeriveId=i,e.viewport(0,n[1]*i,n[0],n[1]),e.ext.drawArraysInstancedANGLE(e.POINTS,0,n[0],n[1])}),e.bindFramebuffer(e.FRAMEBUFFER,null),a}return a.execute=function(e){var a=Object.keys(e),n=f();t._update||(n.forEach(function(e,n){var i=t.fields.indexOf(a[n]);-1===i&&(t.fields.push(a[n]),i=t.fields.indexOf(a[n]),t.deriveCount+=1),t.fieldDomains[i]=e,t.fieldWidths[i]=e[1]-e[0]+1}),t.uniform.uFieldDomains.data=t.fieldDomains,t.uniform.uFieldWidths.data=t.fieldWidths)},a.result=function(e){var a=e||{},i=(a.offset,a.size||t.dataDimension[0]*t.dataDimension[1]),r=a.fieldId||a.deriveFieldId||0,o=Math.min(i,t.dataDimension[0]),s=Math.ceil(i/t.dataDimension[0]),u=new Float32Array(o*s*4);return l.readPixels(0,n[1]*r,o,s,l.RGBA,l.FLOAT,u),u.filter(function(t,e){return e%4==3})},a}},function(t,e,a){"use strict";e.a=function(t){t.viewport,t.padding;t.uniform("uRevealMode","int",1).framebuffer("offScreenFBO","float",t.viewport).framebuffer("visStats","float",[1,1]);var e=new Float32Array(t.viewport[0]).map((t,e)=>e),a=new Float32Array(t.viewport[1]).map((t,e)=>e);t.attribute("aViewX","float",e).attribute("aViewY","float",a),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aViewX.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aViewY.location,1);var n=t.shader.vertex(function(){var t,e;t=(this.aViewX+.5)/this.uViewDim.x,e=(this.aViewY+.5)/this.uViewDim.y,this.vColorRGBA=texture2D(this.offScreenFBO,vec2(t,e)),gl_Position=vec4(0,0,0,1)}),i=t.shader.fragment(function(){gl_FragColor=this.vColorRGBA});t.program("post-processing",n,i);var r=t.shader.vertex(function(){gl_Position=vec4(this._square,0,1)}),o=t.shader.fragment(function(){var t,e,a,n=new Vec4;t=(gl_FragCoord.x+.5)/this.uViewDim.x,e=(gl_FragCoord.y+.5)/this.uViewDim.y,0==(n=texture2D(this.offScreenFBO,vec2(t,e))).a&&discard,a=.9*pow(n.a/this.uMaxRGBA.a,.33)+.1,0==this.uRevealMode?gl_FragColor=vec4(this.uDefaultColor*a,a):gl_FragColor=vec4(texture2D(this.tColorGraident,vec2(1-a,1)).rgb*this.uDefaultAlpha,this.uDefaultAlpha)});return t.program("vis-render",r,o),function(e){var a,n=e.viewIndex,i=e.dim,r=e.offset||[0,0],o=e.padding||{left:0,right:0,left:0,right:0};if(!t._update){t.framebuffer("visStats","float",[1,1]),a=t.program("post-processing"),t.framebuffer.enableRead("offScreenFBO"),t.bindFramebuffer("visStats"),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aViewX.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aViewY.location,1),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.disable(a.CULL_FACE),a.disable(a.DEPTH_TEST),a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE),a.blendEquation(a.MAX_EXT),a.viewport(0,0,1,1),a.ext.drawArraysInstancedANGLE(a.POINTS,0,i[0],i[1]);var s=new Float32Array(4);a.readPixels(0,0,1,1,a.RGBA,a.FLOAT,s),0==s[3]&&(s[3]=Math.sqrt(t.dataSize)*Math.log2(t.dataSize)),t.views[n].maxRGBA=s}t.uniform.uMaxRGBA=t.views[n].maxRGBA,t.bindFramebuffer(null),(a=t.program("vis-render")).ext.vertexAttribDivisorANGLE(t.attribute._square.location,0),t.framebuffer.enableRead("offScreenFBO"),a.viewport(r[0]+o.left,r[1]+o.bottom,i[0]-o.left-o.right,i[1]-o.top-o.bottom),a.disable(a.BLEND),a.drawArrays(a.TRIANGLES,0,6)}}},function(t,e,a){"use strict";e.a=function(t,e){var a=e.view||[t.views[0].id];Array.isArray(a)||(a=[a]);var i=e.actions||e.events||[],r=e.condition||{},o=e.callback||function(){};if(t._update)return;a.forEach(function(e){var a=t.views.filter(t=>t.id==e)[0];Array.isArray(i)||(i=[i]);var s,u,c=a.vmap,l=a.padding||t.padding,f=a.width-l.left-l.right,d=a.height-l.top-l.bottom,h=a.chart.svg.append("g").attr("class","selector"),p=h.append("rect").attr("x",0).attr("y",0).attr("width",f).attr("height",d).attr("fill-opacity",0).attr("stroke","none"),m=h.svg,b=p.svg.getBoundingClientRect(),v=0,g=0,y=1;function x(t){var e=t.clientX-b.left,n=t.clientY-b.top,i={};return c.x&&(i[c.x]=[a.chart.x.invert(e)]),c.y&&(i[c.y]=[a.chart.y.invert(n)]),i}i.forEach(function(e){if("brush"==e){m.style.cursor="crosshair";var i={container:h,width:f,height:d};Array.isArray(c.x)||Array.isArray(c.y)||(r.x||r.y||(r.x=r.y=!0),i.brush=function(t){var e={};c.x&&t.x&&(e[c.x]=t.x),c.y&&t.y&&(e[c.y]=t.y.reverse()),o(e)},r.x&&"function"==typeof a.chart.x.invert&&(i.x=a.chart.x.invert),r.y&&"function"==typeof a.chart.y.invert&&(i.y=a.chart.y.invert),new n.a(i));var l={};["x","y"].forEach(function(t){if(Array.isArray(c[t])&&Array.isArray(a.chart[t])){var e="x"==t?d:f,r=a.chart.svg.append("g");e/=c[t].length-1,c[t].forEach(function(s,u){var c=r.append("g");"x"==t?(i.height=.2*e,c.translate(0,e*(u-.1)),i.brush=function(e){l[s]=e[t],o(l)}):(i.width=.2*e,c.translate(e*(u-.1),0),i.brush=function(e){l[s]=e[t].reverse(),o(l)}),i.container=c,i[t]=a.chart[t][u].invert,new n.a(i)})}})}else"zoom"==e?m.onmousewheel=function(e){s=e.clientX-b.left,u=e.clientY-b.top;var a=y*Math.exp(e.deltaY/1e3),n=a-y;y=a,t.uniform.uPosOffset.data=[-s*n/f,-u*n/d],t.uniform.uVisScale.data=[y,y],o()}:"pan"==e?(m.style.cursor="move",m.onmousedown=function(e){s=e.clientX,u=e.clientY,m.style.cursor="move",m.onmousemove=function(t){v+=(t.clientX-s)/y,g+=t.clientY-u,o()},m.onmouseup=function(e){!function(e){v+=(e.clientX-s)/y,g+=(e.clientY-u)/y,s=e.clientX,u=e.clientY,t.uniform.uPosOffset.data=[v/f,g/d]}(e),m.style.cursor="default",m.onmousemove=null,m.onmouseup=null}}):"click"==e?m.onclick=function(t){o(x(t))}:"hover"==e&&(m.onmouseover=function(t){o(x(t)),m.onmousemove=function(t){o(x(t))}})})})};var n=a(58)},function(t,e,a){"use strict";function n(t,e){for(var a in e){var n=e[a],i=a.match(/[A-Z]/);null!==i&&(a=a.replace(i[0],"-"+i[0].toLowerCase())),t.setAttribute(a,n)}}function i(t,e){for(var a in e){var n=e[a],i=a.match(/[A-Z]/);null!==i&&(a=a.replace(i[0],"-"+i[0].toLowerCase())),t.style[a]=n}}function r(t){var e=this instanceof r?this:{},a=t||{},s=a.type||"svg",u=document.createElementNS("http://www.w3.org/2000/svg",s),c=a.width||400,l=a.height||300,f=a.parent||a.container||this.parent,d=a.attr||{},h=a.style||{},p=a.padding||{left:0,right:0,top:0,bottom:0};"svg"===s&&n(u,{width:c+p.left+p.right,height:l+p.top+p.bottom,viewBox:[0,0,c+p.left+p.right,l+p.top+p.bottom].join(" "),preserveAspectRatio:"none"});return e.innerWidth=function(){return c},e.innerHeight=function(){return l},e.padding=function(){return p},h&&i(u,h),d&&n(u,d),f&&(f="string"==typeof f?document.getElementById(f):f).appendChild(u),e.svg=u,e.parent=f,o(e instanceof r?r.prototype:e),e}function o(t){return t.append=function(t,e,a){var n={};return n.parent=this.svg,n.type=t,n.attr=e,n.style=a,new r(n)},t.remove=function(){this.parent.removeChild(this.svg)},t.attr=function(t,e){return"object"==typeof t?n(this.svg,t):this.svg.setAttribute(t,e),this},t.Attr=function(t,e){return n(this.svg,t),this},t.Style=function(t,e){return i(this.svg,t),this},t.style=function(t,e){return"object"==typeof t?i(this.svg,t):this.svg.style[t]=e,this},t.css=t.style,t.text=function(t){return this.svg.appendChild(document.createTextNode(t)),this},t.translate=function(t,e){var a=this.svg.getAttribute("transform")||"";return this.svg.setAttribute("transform",a+"translate("+[t,e].join(",")+") "),this},t.on=function(t,e){return this.svg.addEventListner(t,e),this},t}e.a=r},function(t,e,a){"use strict";e.a=function(t){var e,a=t||{},i=a.container||a.parent,r=a.dim||"x",o=a.color||"#000",s=a.position||0,u=a.align||"",c=a.scale||"linear",l=a.exponent||1,f=a.metric||null,d=a.domain||[0,1],h=a.width||i.innerWidth(),p=a.height||i.innerHeight(),m=a.padding||i.padding()||{left:0,right:0,top:0,bottom:0},b=a.range||"x"==r?[0,h]:[p,0],v={stroke:o,"stroke-width":1},g=a.ticks,y=a.tickLength||6,x=a.tickPosition||!1,D=a.tickInterval||"auto",E=a.tickAlign||"center",A=a.skipLast||!1,w=a.tickFormat||null,F=a.grid,O=a.format||function(t){return t},I=a.visable||!0,_=null,k=a.labelAngle||0,R=[],C=[];"number"!=typeof g&&(g="x"==r?Math.ceil(h/50):Math.ceil(p/50));var L=a.tickLabelAlign||"end";switch(u){case"left":_=a.labelPos||{x:-y/2,y:-5},L=a.tickLabelAlign||"end";break;case"right":_={x:y,y:-5},L=a.tickLabelAlign||"start",x||(x=[y/2,0]);break;case"top":_={x:0,y:0},L="middle",x||(x=[0,-y]);break;case"bottom":_=a.labelPos||{x:0,y:3*-y},L=a.tickLabelAlign||"middle";break;default:_=a.labelPos||a.labelPosition||{x:0,y:0}}x||(x=[0,0]);function T(){var t=Math.abs(d[1]-d[0]),e=t/g,a=Math.ceil(Math.log10(e)),e=e/Math.pow(10,a);return(e=e>.2&&e<=.25?.25:e>.7&&e<=.75?.75:Math.ceil(10*e)/10)*Math.pow(10,a)}if("categorical"==c||"ordinal"==c)e=function(){var t,e=d.length,a=Math.ceil(e/g),n=[];for(t=0;t<e;t+=a)n.push(d[t]);return n};else{var N;"auto"==D?N=T():"number"==typeof D?N=D:(N=T(),d[0]=N*Math.floor(d[0]/N),d[1]=N*Math.ceil(d[1]/N)),e=function(){var t=[];if(d[0]>d[1]){d[0]+=N;for(var e=d[0];e>d[1];e-=N)t.push(e)}else for(var e=d[0];e<d[1];e+=N)t.push(e);return t[t.length-1]==d[1]||isNaN(d[1])||A||(d[1]-t[t.length-1]<.4*N?t[t.length-1]=d[1]:t.push(d[1])),t}}if(null===f){var M={align:E,type:c,domain:d,range:b};"power"==c&&(M.exponent=l),f=Object(n.a)(M)}else d=f.domain();var P=i.append("g");"x"==r?(!s&&u&&(s=(s=[0,p/2,p])[["top","middle","bottom"].indexOf(u)]),C[0]=C[1]=s,R[0]=0,R[1]=Math.abs(b[1]-b[0])):(!s&&u&&(s=(s=[0,h/2,h])[["left","center","right"].indexOf(u)]),R[0]=R[1]=s,C[0]=0,C[1]=Math.abs(b[1]-b[0]));f.show=f.axis=function(){P.append("g").append("line").Attr({x1:R[0],x2:R[1],y1:C[0],y2:C[1]}).Style(v);for(var t=e(),a=0;a<t.length;a++){var n,i,u,l;"x"==r?(n=i=f(t[a])+x[0],l=(u=s+x[1]+y)-y):(u=l="categorical"==c||"ordinal"==c?p-f(t[a]):f(t[a])+x[1],i=(n=s+x[0])-y);var d=P.append("g");d.append("line",{x1:n,x2:i,y1:u,y2:l},v);var b=d.append("text").Attr({x:i+_.x,y:l-_.y,class:"i2v-axis-label","font-size":"0.9em",textAnchor:L});k&&b.attr("transform","rotate("+[k,i+_.x,l-_.y].join(",")+")");var g,D,E,A,I=O("function"==typeof w?w(t[a]):t[a]);b.text(I),F&&("x"==r?(g=D=f(t[a]),E=0,A=p):(E=A=f(t[a]),g=0,D=h),P.append("line",{x1:g,x2:D,y1:E,y2:A,class:"grid-lines"},{stroke:o,"stroke-opacity":.33}))}return P.translate(m.left,m.top),P},f.remove=function(){P.remove()},I&&(f.svg=f.show());return f};var n=a(16)},function(t,e,a){"use strict";e.a=function(t){var e=t||{},a=e.align||"center",n=e.type||"linear",i=e.domain||[0,1],r=(e.margin,e.exponent||1),o=e.range||[0,1];var s=(u=-i[0]/(i[1]-i[0]),c=1/(i[1]-i[0]),l=o[0],f=o[1]-o[0],"linear"==n?function(t){return l+(u+t*c)*f}:"power"==n?(u=-Math.pow(-u,r),c=Math.pow(c,r),function(t){return l+(u+Math.pow(t,r)*c)*f}):"log"==n?(r=e.exponent||10,u=-Math.log(-u)/Math.log(r),c=Math.log(c)/Math.log(r),function(t){return l+(u+Math.log(t)/Math.log(r)*c)*f}):"ordinal"==n||"categorical"==n?function(t){return"outer"==a?l+i.indexOf(t)/(i.length-1)*f:l+(i.indexOf(t)+.5)/i.length*f}:function(t){return t});var u,c,l,f;return s.interval=function(t){if("ordinal"==n||"categorical"==n)return 1/i.length*Math.abs(o[1]-o[0]);var e=Math.pow(10,Math.floor(Math.log10(Math.abs(o[1]-o[0])))-1);return Math.floor(Math.abs(o[1]-o[0])/(t*e))*e},s.domainLength=function(){return"linear"==n?Math.abs(i[1]-i[0]):"ordinal"==n||"categorical"==n?i.length:void 0},s.rangeLength=function(){return Math.abs(o[1]-o[0])},s.invert=function(t){if("linear"==n)return i[0]+(t-o[0])/(o[1]-o[0])*(i[1]-i[0]);if("ordinal"==n||"categorical"==n){var e=e=t/s.rangeLength();return i[Math.floor(e*i.length)]}},s.domain=function(){return i},s}},function(t,e,a){"use strict";e.a=function(t){return function(e){if("number"!=typeof e)return e;var a,i,r,o=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],s=Object(n.a)(-24,24,3),u=o.length-1,c=t.match(/\d+/)[0]||3,l=Number(e);for("s"==t[t.length-1]&&c--,a=l.toExponential(c).toString().match(/^(-{0,1})(\d+)\.?(\d*)[eE]([+-]?\d+)$/),i=parseInt(a[4])||0;u--;)if(i>=s[u]){if(7==u&&i-s[u]>1){r=o[u+1],i-=s[u+1];break}r=o[u],i-=s[u];break}return parseFloat(a[1]+a[2]+"."+(a[3]||0)+"e"+i.toString()).toString()+r}};var n=a(61)},function(t,e,a){(function(e){var n="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this,i={allocate:a(66),arrays:a(0),aggregate:a(4),pipeline:a(67),derive:a(19),match:a(5),join:a(69),stats:a(70),embed:a(71),toArray:a(72)};"object"==typeof n.p6?n.p6.solo=i:n.p6Solo=i,void 0!==t&&t.exports&&(t.exports=n.p6Solo)}).call(e,a(3))},function(t,e,a){a(0);t.exports=function(t,e){if(!Array.isArray(t))throw new Error("Inproper input data format.");if("function"==typeof e)t.forEach(e);else{var a={};Object.keys(e).forEach(function(t){"function"==typeof e[t]?a[t]=function(a){a[t]=e[t](a)}:a[t]=Function("attr","attr."+t+"="+e[t].replace(/@/g,"attr.").replace(/\$/g,"$.")+";")}),t.forEach(function(t){Object.keys(e).forEach(function(e){a[e](t)})})}return t}},function(t,e,a){"use strict";(function(t){var n=a(21),i=a(22),r=a(23),o=a(24),s=a(25),u=a(26),c=a(27),l=a(28),f=a(29),d=a(30),h=a(31),p=a(32);a.d(e,"a",function(){return n.a});a(25);a.d(e,"b",function(){return l.a}),a.d(e,"c",function(){return f.a}),a.d(e,"d",function(){return p.a});var m="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this;let b={button:n.a,buttonGroup:i.a,checkbox:r.a,dropdown:o.a,fileInput:s.a,icon:u.a,list:c.a,layout:l.a,panel:f.a,progressBar:d.a,radios:h.a,table:p.a};m.dashi=b}).call(e,a(3))},function(t,e,a){"use strict";e.a=function(t){var e=document.createElement("div"),a=t||{},n=a.container||document.body,i=a.onclick||function(){},r=a.text||a.label||null,o=a.icon||!1,s=a.title||!1,u=a.type,c=a.fontSize||a.size||null,l=(a.background,a.fileInput||!1),f=a.value||null,d=a.types||[];u&&d.push(u);if(d.push("ui button"),e.className=d.join(" "),e.onclick=i,e.style.textAlign="center",e.style.verticalAlign="top",o){var h=document.createElement("i");h.className=o+" icon",h.style.marginRight="10px",e.className+=" icon",e.appendChild(h)}null!==f&&e.setAttribute("value",f);if(l){var p=document.createElement("input");l.name;p.setAttribute("type","file"),p.setAttribute("multiple",""),l.hasOwnProperty("id")&&p.setAttribute("id",l.id),p.style.display="none","function"==typeof l.onchange&&p.addEventListener("change",function(t){return l.onchange(t),!1},!1),e.appendChild(p),e.onclick=function(t){return p.click(),!1},e.fileInput=p}null!==r&&(e.innerHTML+=r);null!==c&&(e.style.fontSize=c);s&&(e.title=s);n&&n.appendChild(e);return e.showLoading=function(){-1===(" "+e.className+" ").indexOf(" loading ")&&(e.className+=" loading")},e.hideLoading=function(){e.className=e.className.replace(/\bloading\b/,"")},e.toggleLoading=function(){-1===(" "+e.className+" ").indexOf(" loading ")?e.className+=" loading":e.hideLoading()},e}},function(t,e,a){"use strict";e.a=function(t){var e=document.createElement("div"),a=t||{},n=a.buttons||[],i=a.container||null,r=a.type,o=a.id||!1,s=a.types||[];r&&s.push(r);o&&e.setAttribute("id",o);function u(t){t.forEach(function(t){e.appendChild(t)})}e.className="ui buttons "+s.join(" "),u(n),i&&i.appendChild(e);if(e.add=function(t){Array.isArray(t)&&(t=[t]),u(t)},e.append=e.add,-1!==s.indexOf("dropdown")){var c=document.createElement("div"),l=document.createElement("div"),f=document.createElement("div");c.className="ui floating dropdown icon button",l.className="dropdown icon",f.className="menu",c.appendChild(l),c.appendChild(f),e.appendChild(c),e.menu.append=function(e){e.forEach(function(e){var a=e.label||e.name||"",n=e.onclick||function(){},i=document.createElement("div"),r=document.createElement("i"),o=document.createTextNode(a);r.className=e.icon+" icon",i.appendChild(r),i.appendChild(o),i.onclick=n.call(this,t),i.className="item",f.appendChild(i)})}}return e}},function(t,e,a){"use strict";e.a=function(t){var e=document.createElement("div"),a=t||{},n=a.container||document.body,i=a.name||a.variable||"",r=a.onchange||function(){},o=a.text||a.label||null,s=a.type,u=a.types||[];s&&u.push(s);var c=document.createElement("input"),l=document.createElement("label");e.className="ui checkbox "+u.join(" "),e.style.margin="10px",l.innerHTML=o,c.setAttribute("type","checkbox"),c.setAttribute("name",i),c.onchange=r,e.appendChild(l),e.appendChild(c),n&&n.appendChild(e);var f=window.jQuery||window.$;"function"==typeof f&&f(e).checkbox();return Object.defineProperty(e,"onchange",{set:function(t){r=t}}),e}},function(t,e,a){"use strict";e.a=function(t){var e=document.createElement("div"),a=document.createElement("div");options=t||{},container=options.container||null,type=options.type,id=options.id||!1,label=options.label,items=options.items||options.menu||[],types=options.types||[],type&&types.push(type);id&&e.setAttribute("id",id);e.className="ui buttons "+types.join(" "),container&&container.appendChild(e);var n=document.createElement("div"),i=document.createElement("div");return e.className="ui compact menu",a.className="ui simple dropdown item",n.className="dropdown icon",i.className="menu",a.appendChild(document.createTextNode(label)),a.appendChild(n),a.appendChild(i),e.appendChild(a),e.append=function(e){Array.isArray||(e=[e]),e.forEach(function(e){var a=e.label||e.name||"",n=e.onclick||function(){},r=document.createElement("div"),o=document.createElement("i"),s=document.createTextNode(a);o.className=e.icon+" icon",r.appendChild(o),r.appendChild(s),r.onclick=n.bind(this,t),r.className="item",i.appendChild(r)})},e.menu=function(t){e.append(t)},e.menu(items),e}},function(t,e,a){"use strict";e.a=function(t){e="function"==typeof arguments[0]?arguments[0](t):Button(t);var e=document.createElement("div"),a=t||{},n=a.container||document.body,i=a.onclick||function(){},r=a.text||a.label||null,o=a.icon||!1,s=a.title||!1,u=a.type,c=a.fontSize||a.size||null,l=(a.background,a.types||[]);u&&l.push(u);if(e.className="ui button "+l.join(" "),e.onclick=i,e.style.textAlign="center",e.style.verticalAlign="top",o){var f=document.createElement("i");f.className=o+" icon",f.style.marginRight="10px",e.className+=" icon",e.appendChild(f)}null!==r&&(e.innerHTML+=r);null!==c&&(e.style.fontSize=c);s&&(e.title=s);n&&n.appendChild(e);return e}},function(t,e,a){"use strict";e.a=function(t){var e=document.createElement("i"),a=t||{},n=a.onclick||!1,i=a.type,r=a.types||[],o=a.title||a.type||!1;i&&r.push(i);o&&(e.title=o);e.className="ui icon "+r.join(" "),n&&(e.onclick=n,e.className+=" link");return e.change=function(t){e.className=e.className.replace(i,d)},e}},function(t,e,a){"use strict";e.a=function(t){var e=document.createElement("div"),a=t||{},n=a.container||document.body,i=a.type,r=a.selectedColor||"black",o=a.selectedIcon||"",s=a.types||[];i&&s.push(i);n&&n.appendChild(e);e.className="ui list "+s.join(" ");var u=[];let c=(t,e)=>{if(e!=u[t]._selected){if(e)return u[t]._selected=!0,u[t].className+=" selected",void(u[t].hasOwnProperty("icon")&&(u[t].icon.className+=" "+r+" "+o));u[t]._selected=!1,u[t].className=u[t].className.replace("selected",""),u[t].hasOwnProperty("icon")&&(u[t].icon.className=u[t].icon.className.replace(r+" "+o,""))}};e.onselect=a.onselect||function(){};var l=function(t){-1!==s.indexOf("single")?(e.clearSelected(),c(t,!0)):c(t,!u[t]._selected),e.onselect.call(u[t],t)};return e.append=function(t){var a=document.createElement("div"),n=document.createElement("div");if(a.className="item",n.className="content",t.hasOwnProperty("icon")){var i=document.createElement("i");i.className=t.icon+" icon",a.appendChild(i),a.icon=i}if(t.hasOwnProperty("img")){var r=document.createElement("img");r.className="ui avatar iamge",r.src=t.img,a.appendChild(r)}if(t.hasOwnProperty("header")){var o=document.createElement("div");o.innerHTML=t.header,n.appendChild(o)}t.hasOwnProperty("text")&&(n.innerHTML+=t.text),a.appendChild(n);var c=u.length;return a._selected=!1,u.push(a),e.appendChild(a),-1!==s.indexOf("selection")&&(a.onclick=l.bind(this,c)),e},e.setSelectedItemIds=(t=>{e.clearSelected(),t.forEach(t=>{c(t,!0)})}),e.clearSelected=(()=>{u.forEach((t,e)=>{c(e,!1)})}),e.getSelectedItemIds=function(){return u.map((t,e)=>!0===t._selected?e:-1).filter(t=>t>=0)},e.get=function(t){return u[t]},e.select=function(t){l(t)},e.clear=function(){u=[],e.innerHTML=""},e.remove=function(t){return e.removeChild(u[t]),e},e}},function(t,e,a){"use strict";e.a=function(t){var e=t||{},a=e.id||!1,n=e.class||"",i=e.margin||0,r=(e.spacing,e.padding,e.rows||[]),o=e.cols||[],s=e.container||document.body;"string"==typeof s&&(s=document.getElementById(s));s==document.body&&(s.style.height=window.innerHeight+"px",s.style.padding=0,s.style.margin=0,s.style.overflow="hidden");var u=e.width||s.clientWidth||window.innerWidth,c=e.height||s.clientHeight||window.innerHeight,l={},f=[];function d(t,e,a,n){var i=[],r=a;return t.forEach(function(t,o){var s=t.width>1?t.width:t.width*r;i[o]=function(t,e){var a=document.createElement("div");return a.style.display="inline-block",a.className="davi-col",a.style.verticalAlign="top",a.style.width=t+"px",a.style.height=e+"px",a.style.overflow="hidden",a}(s,n),s,void 0!==t.id&&(i[o].setAttribute("id",t.id),l[t.id]=i[o]),e.appendChild(i[o]),t.rows&&(i[o]=h(t.rows,i[o],a,n))}),i}function h(t,e,a,n){var i=[],r=a,o=n;return t.forEach(function(t,a){var n,s,u,c=t.height>1?t.height:t.height*o;i[a]=(n=r,s=c,(u=document.createElement("div")).style.width=n+"px",u.style.height=s+"px",u.className="davi-row",u.style.overflow="hidden",u),c,void 0!==t.id&&(i[a].setAttribute("id",t.id),l[t.id]=i[a]),e.appendChild(i[a]),t.cols&&(i[a]=d(t.cols,i[a],r,c))}),i}var p=function(t,e){var r=document.createElement("div");a&&r.setAttribute("id",a);"string"==typeof n&&(r.className=n);return r.style.height=e+"px",r.style.width=t+"px",r.style.margin=i+"px",r.className="davi-layout",r}(u-=2*i,c-=2*i);r.length&&(f=h(r,p,u,c));o.length&&(f=d(o,p,u,c));return Object.keys(l).forEach(function(t){l[t].append=l[t].appendChild}),p.cell=function(t,e){return"number"==typeof t?"number"==typeof e&&void 0!==f[t][e]?f[t][e]:f[t]:l[t]},p.get=p.cell,s.appendChild(p),p}},function(t,e,a){"use strict";e.a=function(t){var e,a,n=t||{},i=n.container||document.body,r=n.header||null,o=n.title||"",s=n.margin||5,u=(n.style,n.padding||0),c=n.types||[],l="panel ui segment",f=n.AngularJS||n.angularJS||!1;i&&(i="string"==typeof i?document.getElementById(i):i);n.id?null===(e=document.getElementById(n.id))&&((e=document.createElement("div")).setAttribute("id",n.id),i.appendChild(e)):(e=document.createElement("div"),i.appendChild(e));var d=!1,h=n.width||i.clientWidth,p=n.height||i.clientHeight;if(h-=2*s,p-=2*s,e.className="ui",e.style.margin=s+"px",e.style.width=h+"px",e.style.height=p+"px",r){(a=n.header.height||.08*p)<1&&(a*=p),e.header=document.createElement("div"),e.header.className="ui top attached block header primary",e.header.style.backgroundColor="#FFFFFF",e.header.style.height=a+"px",e.header.style.width=h+"px",e.header.style.fontSize=.36*a+"px",n.header.hasOwnProperty("style")&&Object.keys(n.header.style).forEach(function(t){e.header.style[t]=n.header.style[t]}),e.header.style.padding=0,e.header.style.paddingLeft=e.header.style.fontSize;var m=document.createElement("span");m.innerHTML=o,m.style.float="left",m.style.marginTop=.25*a+"px",e.header.appendChild(m),e.appendChild(e.header),Object.defineProperty(e,"title",{get:function(){return o},set:function(t){m.innerHTML=t}}),l+=" bottom attached",Array.isArray(n.header.controls)&&n.header.controls.forEach(function(t){e.header.appendChild(t)});var b=document.createElement("div");b.style.float="right",b.style.marginTop=.25*a+"px",b.style.marginRight=e.header.style.fontSize,e.header.appendChild(b),e.header.append=function(t){return"string"==typeof t?b.innerHTML+=t:b.appendChild(t),e}}else a=0;e.body=document.createElement("div"),e.body.className=l+" panel-body "+c.join(" "),e.body.style.width=h+"px",e.body.style.height=p-a+"px",e.body.style.padding=u+"px",n.hasOwnProperty("style")&&Object.keys(n.style).forEach(function(t){e.body.style[t]=n.style[t]});e.appendChild(e.body),n.id&&e.body.setAttribute("id",n.id+"-body");e.innerWidth=h-2*u,e.innerHeight=p-a-2*u,f&&f.hasOwnProperty("ng-controller")&&(e.setAttribute("ng-controller",f["ng-controller"]),e.body.setAttribute(f.view,""),e.body.setAttribute("id",f.id));return e.showLoading=function(){-1===(" "+e.body.className+" ").indexOf(" loading ")&&(e.body.className+=" loading")},e.hideLoading=function(){e.body.className=e.body.className.replace(/\bloading\b/,"")},e.toggleLoading=function(){-1===(" "+e.body.className+" ").indexOf(" loading ")?e.body.className+=" loading":e.hideLoading()},e.append=function(t){return"string"==typeof t?e.body.innerHTML+=t:e.body.appendChild(t),e},e.clear=function(){e.body.innerHTML=""},e.update=function(t){e.clear(),e.body.appendChild(t)},e.toggleFullScreen=function(){d?(e.style.position="relative",e.style.zIndex=0,e.resize(i.clientWidth-2*s,i.clientHeight-2*s)):(e.style.position="fixed",e.style.top="1px",e.style.left="1px",e.style.zIndex=9999,e.resize(document.body.clientWidth,document.body.clientHeight)),d=!d},e.resize=function(t,n){void 0===t||void 0===n?(h=i.clientWidth,p=i.clientHeight):(h=t,p=n),e.style.width=h+"px",e.style.height=p+"px",e.body.style.width=h+"px",e.body.style.height=p-a+"px",r&&(e.header.style.height=a+"px",e.header.style.width=h+"px")},e}},function(t,e,a){"use strict";e.a=function(t){var e=document.createElement("div"),a=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),r=t||{},o=r.container||null,s=r.percentage||0,u=r.type,c=r.text||"",l=r.types||[];u&&l.push(u);e.className="ui progress "+l.join(" "),n.className="progress",a.className="bar",i.className="label",i.innerHTML=c,a.appendChild(n),e.appendChild(a),e.appendChild(i),o&&o.appendChild(e);var f=window.jQuery||window.$;function d(){"function"==typeof f&&f(e).progress({percent:s})}return Object.defineProperty(e,"percent",{set:function(t){return s=t,d(),e}}),d(),e.hide=function(){e.style.display="none"},e.show=function(){e.style.display="block"},e.label=function(t){i.innerHTML=t},e}},function(t,e,a){"use strict";e.a=function(t){var e=document.createElement("div"),a=t||{},n=a.container||document.body,i=a.data||[],r=(a.name||a.variable,a.field||"inline"),o=a.onchange||function(){},s=a.text||a.label||null,u=(a.icon,a.title,a.type),c=a.checked||null,l=a.types||[];u&&l.push(u);var f=document.createElement("div"),d=document.createElement("label");f.className="ui form",e.className=r+" fields",d.innerHTML=s,e.appendChild(d),i.forEach(function(t){var a=document.createElement("div"),n=document.createElement("div"),i=document.createElement("label"),r=document.createElement("input");n.className="field",a.className="ui radio checkbox",i.innerHTML=t,r.setAttribute("type","radio"),r.setAttribute("name","test"),r.setAttribute("value",t),r.setAttribute("tabindex","0"),c==t&&r.setAttribute("checked","checked"),r.className="hidden",r.onchange=function(){o(this.value)},a.appendChild(i),a.appendChild(r),n.appendChild(a),e.appendChild(n)}),f.appendChild(e),n&&n.appendChild(f);var h=window.jQuery||jQuery||$;void 0!==h&&h(".ui.radio.checkbox").checkbox();return Object.defineProperty(f,"onchange",{set:function(t){return o=t,e}}),f}},function(t,e,a){"use strict";e.a=function(t){var e=document.createElement("table"),a=t||{},n=a.container||document.body,i=(a.rows,a.columns||a.cols||!1),r=a.type,o=a.width||.9*n.clientWidth,s=a.types||[];r&&s.push(r);n&&n.appendChild(e);e.className="ui table "+s.join(" "),e.style.margin="5px auto",e.style.width=o+"px";var u=document.createElement("thead"),c=document.createElement("tbody"),l=document.createElement("tr");u.appendChild(l),i&&i.forEach(function(t){var e=document.createElement("th");e.innerHTML=t,l.appendChild(e)});e.appendChild(u),e.appendChild(c),e.addRow=function(t){var e=Array.isArray(t)?t:[t],a=document.createElement("tr");return e.forEach(function(t){var e=document.createElement("td");t instanceof HTMLElement?e.appendChild(t):e.innerHTML=t,a.appendChild(e)}),c.appendChild(a),a},e.updateCell=function(t,e,a){var n=c.childNodes[t].childNodes[e];return n.innerHTML=a,n},a.hasOwnProperty("style")&&Object.keys(a.style).forEach(function(t){e.style[t]=a.style[t]});return e.tbody=c,e}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(34);Object(n.a)()},function(t,e,a){"use strict";e.a=function(){let t=$("#page-header").height()+20;$("#page-network, #page-stats, #page-tseries").css({height:$("body").height()-t,"margin-top":t+"px"}),$(".ui.large.modal").modal("observeChanges",!0).modal("hide"),$("#page-network").transition("fade down"),$("#page-tseries").transition("fade down"),$(".ui.sidebar").sidebar({transition:"overlay",dimPage:!1,closable:!0}),$(".data-button").click(function(){$(".ui.large.modal").modal("show")}),$(".page-menu > a.item").click(function(){$(".page-menu > a.item.active").each(function(t,e){$(this).removeClass("active"),$(this.getAttribute("href")).transition("fade down")});this.getAttribute("href").slice(1);$(this).addClass("active"),$(this.getAttribute("href")).transition("fade down")});let e={};e.stats=Object(i.a)({container:"page-stats"}),Object(n.a)({container:"data-list",onselect:function(t,a){console.log(t),e.stats.update(t),$(".ui.large.modal").modal("toggle")},oncancel:function(t){$(".ui.large.modal").modal("toggle")}})};var n=a(35),i=a(74)},function(t,e,a){"use strict";e.a=function(t){var e={},a=t||{},o=a.container,s=a.oncancel||function(){},u=a.onselect||function(){};e.onselect=u,e.data=r.a[Object.keys(r.a)[0]];var c=new i.c({container:document.getElementById(o),padding:20,margin:20,id:"panel-datalist",title:"Dataset",style:{border:"none",height:"auto"},header:{height:.075,style:{backgroundColor:"#FFF",border:"none"}}}),l=new i.d({container:c.body,width:c.innerWidth,cols:["Dataset ID","Topology Model","#Groups","#Routers","#Terminals","Description","Action"]});function f(t){Object(n.a)(r.a[t]).then(function(a){e.data=a,e.onselect(a,r.a[t])})}r.a.forEach(function(t,e){l.addRow([e,t.topology,t.groups,t.routers,t.terminals,t.tag,new i.a({label:"Select",types:["primary"],onclick:f.bind(null,e)})])});var d=document.createElement("div");d.className="actions";var h=new i.a({label:" Open Files ",types:["primary","center"],icon:"folder open",fileInput:{id:"testFileUpload",onchange:function(){}}});return d.append(h),d.append(new i.a({label:"Cancel",types:["orange"],onclick:s})),c.append(d),f(0),e};var n=a(6),i=a(20),r=a(73)},function(t,e,a){"use strict";e.a=function(t){var e=Object(r.a)(t);e.views=[],e.interactions=[],e.visualization=null,e.deriveMax=t.deriveMax||4,e._responseType="unselected",e._update=!1,e.getResult=function(){};var a={},c={},l={},f={},d=0;function h(t,a){if(e._update)return-1;var n={};return n[t]=a,e.pipeline.push(n),d++}a.ctx=e.ctx,a.data=function(t){if(Object(n.a)(e,t),l=Object(o.a)(e),!e.hasOwnProperty("fieldDomains")){l.extent(e.fields.map((t,e)=>e),e.dataDimension);e.uniform.uFieldDomains.data=e.fieldDomains}return e.opt=l,a.register("__init__"),a},a.view=function(t){return e.views.forEach(function(t){t.hasOwnProperty("chart")&&(t.chart.svg.remove(),delete t.chart),t.hasOwnProperty("padding")||(t.padding={left:30,right:30,top:30,bottom:30})}),e.views=t,a},a.register=function(t){return c[t]={indexes:e.indexes,dataSize:e.dataSize,fields:e.fields,dataDim:e.uniform.uDataDim.data.slice(),fieldWidths:e.fieldWidths.slice(),fieldDomains:e.fieldDomains.slice(),deriveCount:e.deriveCount,filterFlag:e.uniform.uFilterFlag.data,filterControls:e.uniform.uFilterControls.data.slice(),dataInput:e.uniform.uDataInput.data,attribute:{aDataIdx:{ids:e.attribute.aDataIdx.data,value:e.attribute.aDataValx.data},aDataIdy:{ids:e.attribute.aDataIdy.data,value:e.attribute.aDataValy.data},aDataFieldId:e.attribute.aDataFieldId.data,aDataItemId:e.attribute.aDataItemId.data}},a},a.resume=function(t){if(h("resume",t),!c.hasOwnProperty(t))throw new Error('"'+t+'" is not found in regesters.');var n=c[t];return e.indexes=n.indexes,e.dataSize=n.dataSize,e.deriveCount=n.deriveCount,e.fieldCount=n.fields.length-n.indexes.length-n.deriveCount,e.fields=n.fields.slice(),e.fieldWidths=n.fieldWidths.slice(),e.fieldDomains=n.fieldDomains.slice(),e.dataDimension=n.dataDim.slice(),e.uniform.uFieldCount.data=e.fieldCount,e.uniform.uDataSize.data=e.dataSize,e.uniform.uDataDim.data=n.dataDim,e.uniform.uIndexCount.data=n.indexes.length,e.uniform.uFieldDomains.data=n.fieldDomains,e.uniform.uFieldWidths.data=n.fieldWidths,e.uniform.uFilterFlag.data=n.filterFlag,e.uniform.uDataInput.data=n.dataInput,e.attribute.aDataIdx=n.attribute.aDataIdx.ids,e.attribute.aDataIdy=n.attribute.aDataIdy.ids,e.attribute.aDataValx=n.attribute.aDataIdx.value,e.attribute.aDataValy=n.attribute.aDataIdy.value,e.ctx.ext.vertexAttribDivisorANGLE(e.attribute.aDataIdx.location,0),e.ctx.ext.vertexAttribDivisorANGLE(e.attribute.aDataIdy.location,1),e.ctx.ext.vertexAttribDivisorANGLE(e.attribute.aDataValx.location,0),e.ctx.ext.vertexAttribDivisorANGLE(e.attribute.aDataValy.location,1),e.attribute.aDataFieldId=n.attribute.aDataFieldId,e.attribute.aDataItemId=n.attribute.aDataItemId,a},a.bin=function(t){var n,i,r={};"object"==typeof t?(n=Object.keys(t)[0],i=t[n]):(n=t,i=Math.ceil(Math.log2(e.dataSize))+1);var o=e.fieldDomains[e.fields.indexOf(n)],s=(o[1]-o[0])/i,u=function(){max(ceil((n-binMin)/float(s)),1)}.toString().slice(13,-1).replace("binAttr",n).replace("binMin",o[0]+".0").replace("binInterval",s);return r["bin@"+n]=u,e.intervals[n]={},e.intervals[n].dtype="historgram",e.intervals[n].interval=s,e.intervals[n].min=o[0],e.intervals[n].max=o[1],e.intervals[n].align="right",a.derive(r),"bin@"+n},a.aggregate=function(t){return t.$bin&&(t.$group=a.bin(t.$bin),delete t.$bin),h("aggregate",t),Object.keys(e.crossfilters).length&&(e.uniform.uFilterFlag=1),l.aggregate.execute(t),a},a.filter=function(t){return h("filter",t),l.match.execute(t),e.getResult=l.match.result,a},a.match=a.filter,a.derive=function(t){return h("derive",t),l.derive=Object(s.a)(e,t),l.derive.execute(t),e.getResult=l.derive.result,a},a.cache=function(t){return l.cache.execute(t),a},a.clear=function(){console.log(e.visLayers)},a.read=function(){return console.log("Read>>",e.getResult()),a},a.result=Object(i.a)(e),a.output=function(t){return h("output",t),t(a.result("row")),a};var p=0;a.branch=function(t){a.register("_branch"+p),t.forEach(function(t){var e=Object.keys(t).map(function(e){var a={};return a[e]=t[e],a});a.run(e),a.resume("_branch"+p)}),p++},e.readResult=a.result,a.getResult=function(t){return e.getResult(t)},a.readPixels=function(t){var a=t||{},n=a.offset||[0,0],i=a.size||e.dataDimension[0]*e.dataDimension[1],r=Math.min(i,e.dataDimension[0]),o=Math.ceil(i/e.dataDimension[0]);e.bindFramebuffer(null);var s=e.ctx,u=new Uint8Array(r*o*4);return s.readPixels(n[0],n[1],r,o,s.RGBA,s.UNSIGNED_BYTE,u),u.filter(function(t,e){return e%4==3})},a.clearViews=function(){e.bindFramebuffer("offScreenFBO"),e.ctx.clearColor(0,0,0,0),e.ctx.clear(e.ctx.COLOR_BUFFER_BIT|e.ctx.DEPTH_BUFFER_BIT),e.bindFramebuffer("visStats"),e.ctx.clearColor(0,0,0,0),e.ctx.clear(e.ctx.COLOR_BUFFER_BIT|e.ctx.DEPTH_BUFFER_BIT),e.bindFramebuffer(null),e.ctx.clearColor(0,0,0,0),e.ctx.clear(e.ctx.COLOR_BUFFER_BIT|e.ctx.DEPTH_BUFFER_BIT)},a.runSpec=function(t){a.head(),a.clearViews(),e.interactions=[],f={},e.pipeline=[],e.crossfilters=[],e.uniform.uFilterFlag.data=0,t.forEach(function(t){var e=Object.keys(t)[0],n=t[e];e=e.slice(1),"function"==typeof a[e]&&a[e](n)})},a.head=function(){return a.resume("__init__"),a},a.run=function(t){return(t||e.pipeline).forEach(function(t,e){var n=Object.keys(t)[0];a[n](t[n])}),a},a.visualize=function(t){h("visualize",t);var n=0;if("string"==typeof t.id&&-1==(n=e.views.map(t=>t.id).indexOf(t.id)))for(var i=0;i<e.views.length;i++)if(!e.views[i].id){n=i,e.views[n].id=t.id;break}"bar"==t.mark&&(t.zero=!0),e.views[n].vmap=t;var r=t,o=e.views[n].id;return e._update&&f.hasOwnProperty(o)&&f[o].hasOwnProperty(e._responseType)&&(r=Object.assign({},t,f[o][e._responseType])),0!=r.opacity&&(l.visualize({vmap:r,viewIndex:n}),a.interact()),a},a.interact=function(t){void 0!==t&&e.interactions.push(t),e.interactions.forEach(function(t){Object(u.a)(e,{actions:t.event,view:t.from,condition:t.condition,callback:function(n){f=t.response,e._update||(e._update=!0,e.crossfilters={},"object"==typeof n&&Object.keys(n).forEach(function(t){if(n[t].length<2)if(e.intervals.hasOwnProperty(t)){var a=Array.isArray(n[t])?n[t][0]:n[t];n[t]=[a-e.intervals[t].interval,a]}else e.categoryLookup.hasOwnProperty(t)||(n[t]=[n[t][0]+n[t][0]+1]);e.crossfilters[t]=n[t]}),e._responseType="unselected",e.uniform.uFilterLevel.data=.2,e.uniform.uVisLevel.data=.1,a.head().run(),e._responseType="selected",e.uniform.uVisLevel.data=.2,a.head().filter({}).run(),e._responseType="unselected",e._update=!1,e.uniform.uFilterLevel.data=.1,e.uniform.uVisLevel.data=.1)}})})},a.exportImage=function(t){return t=t||function(){a.head().run()},"function"==typeof l.visualize.chart.exportImage?l.visualize.chart.exportImage(t):a},t.hasOwnProperty("data")&&a.data(t.data);return a};var n=a(37),i=a(38),r=a(39),o=a(47),s=a(11),u=a(13)},function(t,e,a){"use strict";var n=a(7);const i=["x","y","z"];e.a=function(t,e){var a=e||[];t.indexes=a.indexes||[],t.categoryIndex=a.strHashes||{},t.categoryLookup=a.strLists||{},t.dkeys=a.keys||[],t.dtypes=a.dtypes||a.types||[],t.intervals=a.intervals||{},t.cachedResult=[],t.pipeline=[],t.crossfilters={},t.deriveCount=0,t.resultDimension=[1,1],t.dataSize=0;var o=t.dkeys,u=t.dtypes,c=a.stats||null;a.hasOwnProperty("size")?t.dataSize=a.size:Array.isArray(a)&&(t.dataSize=Math.max.apply(null,a.map(function(t){return t.length})));var l=Math.min(t.dataSize,8192),f=Math.ceil(t.dataSize/l);function d(e,n){n=Math.abs(n[1]-n[0]);if("index"==u[e]||"int"==u[e]||"string"==u[e])return n+1;if("histogram"==u[e])return n;if("time"==u[e]){var i=c[t.fields[e]].min;return 0===i&&(i=a[e][1]-a[e][0]||1),t.intervals[o[e]]={},t.intervals[o[e]].dtype="time",t.intervals[o[e]].interval=i,t.intervals[o[e]].min=c[o[e]].min,t.intervals[o[e]].max=c[o[e]].max,n/i+1}return["nominal","ordinal","categorical"].indexOf(u[e])>-1?a.TLB.length:u[e]in["float","double","numeric"]?10:n+1}t.dataDimension=[l,f],t.fields=t.indexes.concat(o.filter(function(e){return-1===t.indexes.indexOf(e)})),t.fieldWidths=new Array(t.fields.length).concat(new Array(t.deriveMax).fill(1)),t.fieldCount=t.fields.length-t.indexes.length,t.fields.forEach(function(e){var a=c[e].min,n=c[e].max,i=o.indexOf(e);t.fieldWidths[i]=d(i,[a,n])}),t.getDataWidth=d,t.deriveDomains=new Array(t.deriveMax).fill([0,1]),t.deriveWidths=new Array(t.deriveMax).fill(1),t.deriveFieldCount=0,0===t.indexes.length?(t.attribute("aDataIdx","float",Object(n.a)(0,t.dataDimension[0]-1)),t.attribute("aDataIdy","float",Object(n.a)(0,t.dataDimension[1]-1)),t.attribute("aDataValx","float",Object(n.a)(0,t.dataDimension[0]-1)),t.attribute("aDataValy","float",Object(n.a)(0,t.dataDimension[1]-1))):t.indexes.forEach(function(e,r){var o=arrays.unique(a[e]).sort(function(t,e){return t-e});t.attribute("aDataVal"+i[r],"float",new Float32Array(o)),t.attribute("aDataId"+i[r],"float",Object(n.a)(0,o.length-1)),t.fieldWidths[r]=o.length,t.dataDimension[r]=o.length}),t.attribute("aDataItemVal0","float",null),t.attribute("aDataItemVal1","float",null),t.attribute("aDataItemId","float",new Float32Array(t.dataSize).map((t,e)=>e)),t.attribute("aDataFieldId","vec2",new Float32Array(2*t.fields.length).map((t,e)=>e)),t.attribute("aVertexId","float",[0,1,2,3,4,5]),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aVertexId.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataFieldId.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataItemId.location,1),t.attribute("_square","vec2",new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1])),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute._square.location,1),t.uniform("uDataSize","float",t.dataSize),t.uniform("uDataDim","vec2",t.dataDimension),t.uniform("uResultDim","vec2",t.dataDimension),t.uniform("uIndexCount","int",t.indexes.length),t.uniform("uFieldWidths","float",t.fieldWidths),t.uniform("uFieldCount","int",t.fieldCount),t.uniform("uFieldId","int",0),t.uniform("uFilterFlag","int",0),t.uniform("uGroupFields","int",[0,-1]),t.uniform("uDataInput","sampler2D"),t.uniform("uDeriveCount","int",t.deriveMax),t.uniform("uFilterLevel","float",.1),t.uniform("uVisLevel","float",.1),t.varying("vResult","float"),t.varying("vDiscardData","float"),t.texture("tData","float",new Float32Array(t.dataDimension[0]*t.dataDimension[1]*t.fieldCount),[t.dataDimension[0],t.dataDimension[1]*t.fieldCount],"alpha"),t.framebuffer("fFilterResults","unsigned_byte",t.dataDimension),t.framebuffer("fGroupResults","float",[1024,1]),t.framebuffer("fDerivedValues","float",[t.dataDimension[0],t.dataDimension[1]*t.deriveMax]),t.parameter({fieldCount:t.fields.length-t.indexes.length,indexCount:t.indexes.length}),t.fields.slice(t.indexes.length).forEach(function(e,n){for(var i=new Float32Array(t.dataDimension[0]*t.dataDimension[1]),r=0,o=a[e].length;r<o;r++)i[r]=a[e][r];t.texture.tData.update(i,[0,t.dataDimension[1]*n],t.dataDimension)}),null!==c?(t.fieldDomains=t.fields.map(function(t,e){return[c[t].min,c[t].max]}).concat(new Array(t.deriveMax).fill([0,1])),t.uniform("uFieldDomains","vec2",t.fieldDomains)):t.uniform("uFieldDomains","vec2",t.fields.map(t=>[0,1])),t.uniform.uDataInput=t.texture.tData,t.subroutine("getFieldWidth","float",function(t){return this.uFieldWidths[fid]}),t.subroutine("getFieldDomain","vec2",function(t){return this.uFieldDomains[fid]}),t.subroutine("getData","float",function(t,e,a){var n,i;return fid>=this.uFieldCount+this.uIndexCount?(n=(float(fid-this.uFieldCount-this.uIndexCount)+s)/float(this.uDeriveCount),i=texture2D(this.fDerivedValues,vec2(r,n)).a):this.uIndexCount>0&&0==fid?i=this.aDataValx:this.uIndexCount>1&&1==fid?i=this.aDataValy:(n=(float(fid-this.uIndexCount)+s)/float(this.uFieldCount),i=texture2D(this.uDataInput,vec2(r,n)).a),i}),t.subroutine("getNonIndexedData","float",function(t,e,a){var n,i;return fieldId>=this.uFieldCount+this.uIndexCount?(n=(float(fieldId-this.uFieldCount-this.uIndexCount)+addrY)/float(this.uDeriveCount),i=texture2D(this.fDerivedValues,vec2(addrX,n)).a):(n=(float(fieldId-this.uIndexCount)+addrY)/float(this.uFieldCount),i=texture2D(this.uDataInput,vec2(addrX,n)).a),i});var h=t.ctx;h.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdx.location,0),h.ext.vertexAttribDivisorANGLE(t.attribute.aDataValx.location,0),h.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdy.location,1),h.ext.vertexAttribDivisorANGLE(t.attribute.aDataValy.location,1)}},function(t,e,a){"use strict";e.a=function(t){return function(e){var a=t.getResult(),n={},i=0,r=0;if(t.resultDimension[0]>1&&(n[t.fields[r]]=t.attribute.aDataValx.data,r++),t.resultDimension[1]>1){for(var o=t.attribute.aDataValx.data,s=t.attribute.aDataValy.data,u=new Array(t.resultDimension[0]*t.resultDimension[1]),c=new Array(t.resultDimension[0]*t.resultDimension[1]),l=0;l<t.resultDimension[1];l++)for(var f=0;f<t.resultDimension[0];f++)u[l*t.resultDimension[0]+f]=o[f],c[l*t.resultDimension[0]+f]=s[l];n[t.fields[0]]=u,n[t.fields[r]]=c,r++}for(var d=t.resultDimension[0]*t.resultDimension[1],h=r;h<t.fields.length;h++)n[t.fields[h]]=a.subarray(i,i+d),i+=d;if("row"==e){for(var p=new Array(d),h=0;h<d;h++){var m={};Object.keys(n).forEach(function(e){var a=t.dkeys.indexOf(e),i=t.dtypes[a];"string"==i&&t.categoryLookup.hasOwnProperty(e)?m[e]=t.categoryLookup[e][n[e][h]]:t.intervals.hasOwnProperty(e)&&"historgram"==t.intervals[e].dtype?m[e]=t.intervals[e].min+n[e][h]*t.intervals[e].interval:m[e]=n[e][h]}),p[h]=m}return p}return n}}},function(t,e,a){"use strict";e.a=function(t){var e=t.context||null,a=t.container||document.body,i=t.viewport||[800,450],r={left:0,right:0,top:0,bottom:0},o=[{width:i[0],height:i[1],padding:{left:30,right:30,top:30,bottom:30},offset:[0,0]}];null===e&&((e=new n.a({container:a,width:i[0],height:i[1],padding:r})).padding=r,e.viewport=i);return e.container=a,e.views=t.views||o,e};var n=a(40)},function(t,e,a){"use strict";e.a=function t(e){var a=this instanceof t?this:{},s=e||{},u=s.container||null,c=s.canvas||document.createElement("canvas"),l=s.width||null,f=s.height||null,d=s.padding||{left:0,right:0,top:0,bottom:0},h=s.context||s.ctx||null,p=null;s.sharedFunction;"string"==typeof c&&(c="#"==c[0]?document.getElementById(cavnas.substring(1)):document.getElementById(cavnas));u&&(u="string"==typeof u?document.getElementById(u):u,null===l&&(l=u.clientWidth),null===f&&(f=u.clientHeight));c.width=l;c.height=f;c.style.position="absolute";c.style.marginLeft=d.left+"px";c.style.marginTop=d.top+"px";null===h&&(h=function(t){for(var e=["webgl","experimental-webgl"],a=null,n=0;n<e.length;++n){try{a=t.getContext(e[n])}catch(t){}if(a)break}return a}(c));a.ctx=h;a.canvas=c;h._dict=s.env||s.dict||s.dictionary||{};var m=new n.a(h),b=new o.a(h),v=new i.a(h,m);new r.a(h,m);var g=h.getExtension("EXT_blend_minmax");g&&(h.MAX_EXT=g.MAX_EXT,h.MIN_EXT=g.MIN_EXT);h.ext=h.getExtension("ANGLE_instanced_arrays");y(["OES_texture_float","OES_texture_float_linear"]);u&&u.appendChild(c);function y(t){Array.isArray(t)||(t=[t]),t.forEach(function(t){var e=h.getExtension(t);null!==e&&Object.keys(e).forEach(function(t){ext.hasOwnProperty(t)||(h.ext[t]=e[t])})})}a.enableExtension=y;a.attribute=function(t,e,n){return m.allocate("attribute",t,e,n),Object.defineProperty(a.attribute,t,{get:function(){return m.attribute[t]},set:function(e){m.attribute[t].load(e)}}),a};a.buffer=a.attribute;a.uniform=function(t,e,n){return m.allocate("uniform",t,e,n),a.uniform.hasOwnProperty(t)||Object.defineProperty(a.uniform,t,{get:function(){return m.uniform[t]},set:function(e){m.uniform[t].load(e),h.isProgram(p)&&m.uniform[t].link(p)}}),a};a.uniform.serialize=function(t){var e=[];return t.forEach(function(t){e=e.concat(t)}),e};a.texture=function(t,e,n,i,r,o){return m.allocate("texture",t,e,i,r,n,o),Object.defineProperty(a.texture,t,{get:function(){return m.texture[t]},set:function(e){m.texture[t].load(e)}}),a};a.texture.update=function(t,e,a,n){m.texture[t].update(e,a,n)};a.varying=function(t,e,n){return m.allocate("varying",t,e,n),a};a.framebuffer=function(t,e,n,i){var i=i||m.allocate("texture",t,e,n,"rgba",null);return b.create(t,e,n,i),a.framebuffer.hasOwnProperty(t)||Object.defineProperty(a.framebuffer,t,{get:function(){return b[t]}}),a};a.framebuffer.enableRead=function(t){b[t].enableRead(p)};a.bindFramebuffer=function(t){null===t?h.bindFramebuffer(h.FRAMEBUFFER,null):h.bindFramebuffer(h.FRAMEBUFFER,b[t].ptr)};a.subroutine=function(t,e,n){return m.allocate("subroutine",t,e,n),a};a.parameter=function(t){return Object.keys(t).forEach(function(e){if(h._dict[e]=t[e],Array.isArray(h._dict[e])){var a=0;Object.defineProperty(h._dict,e,{get:function(){return t[e][a++]},set:function(t){a=0,h._dict[e]=t}})}else if("object"==typeof h._dict[e]){var n=Object.keys(h._dict[e]);fxgl.uniform("dict"+e,"float",n.map(t=>h._dict[e][t]))}}),a};a.dictionary=a.parameter;a.shader=v.shader;a.program=function(t,e,a){return p=v.program(t,e,a),h};a.createProgram=function(t,e,a){return p=v.create(t,e,a),h};a.app=function(t,e){var n=a.shader.vertex(e.vs),i=a.shader.fragment(e.fs);e.framebuffer;a.program(t,n,i);var r=e.render||e.draw;return function(e){var n=a.program(t);return r.call(n,e)}};a.dimension=function(){return[c.width,c.height]};a.resources=m;return a};var n=a(41),i=a(45),r=a(10),o=a(46)},function(t,e,a){"use strict";e.a=function t(e){var a=this instanceof t?this:{},u={};a.uniform=new n.a(e);a.attribute=new i.a(e);a.texture=new r.a(e);a.varying=new o.a(e);a.subroutine=new s.a;var c=["uniform","attribute","texture","varying","subroutine"];a.allocate=function(t,e){if(-1===c.indexOf(t))throw Error("Error: Invalid resource type: "+t);var n=a[t].create.apply(null,Array.prototype.slice.call(arguments,1));return n.resourceType=t,u[n.name]=n,u.hasOwnProperty(n.name)||Object.defineProperty(u,n.name,{get:function(){return u[n.name]},set:function(t){u[n.name].load(t)}}),n};a.link=function(t,e){var a=Array.isArray(e)?e:Object.keys(u);a.forEach(function(e){u.hasOwnProperty(e)&&u[e].link(t)})};a.get=function(t){return u[t]};a.create=a.allocate;return a};var n=a(8),i=a(42),r=a(9),o=a(43),s=a(44)},function(t,e,a){"use strict";e.a=function t(e){var a=this instanceof t?this:{},n=e,i=0;function r(t,e){(Array.isArray(e)||ArrayBuffer.isView(e))&&(ArrayBuffer.isView(e)||(e=new Float32Array(e)),a[t].data=e,n.bindBuffer(n.ARRAY_BUFFER,a[t].ptr),n.bufferData(n.ARRAY_BUFFER,e,n.STATIC_DRAW))}a.create=function(t,e,o){return a[t]={name:t,type:e||"float",data:null,location:i++,ptr:n.createBuffer(),size:parseInt(e.slice(3,4))||1},null!==o&&o.length&&r(t,o),a[t].link=function(t){return n.bindBuffer(n.ARRAY_BUFFER,this.ptr),this.location=n.getAttribLocation(t,this.name),n.vertexAttribPointer(this.location,this.size,n.FLOAT,!1,0,0),n.enableVertexAttribArray(this.location),this},a[t].load=function(t){return r(this.name,t),this},a[t].header=function(){return"attribute "+this.type+" "+this.name+";\n"},a[t].delete=function(){n.deleteBuffer(this.ptr)},a[t]};return a}},function(t,e,a){"use strict";e.a=function t(e){var a=this instanceof t?this:{};a.create=function(t,e,n){return a[t]={name:t,type:e||"float",size:n||1},a[t].link=function(){},a[t].header=function(){var t="varying "+this.type+" "+this.name;return this.size>1&&(t+="["+this.size+"]"),t+";\n"},a[t]};return a}},function(t,e,a){"use strict";e.a=function t(){var e=this instanceof t?this:{};e.create=function(t,a,n){return e[t]={name:t,type:a||"float",fn:n,resourceType:"subroutine"},e[t].link=function(t){return this},e[t].load=function(a){return e[t].fn=a,this},e[t].header=function(){return this.fn.toString()},e[t]};return e}},function(t,e,a){"use strict";e.a=function(t,e){var a,i=t,r={},o={},s=new n.a(t,e);return r.create=function(t,e,a){t=t||"default",e=e||"default",a=a||"default";var n=[];if(o.hasOwnProperty(t)&&r.delete(t),o[t]=i.createProgram(),o[t].vs="object"==typeof e?e:s.vertex[e],o[t].fs="object"==typeof a?a:s.fragment[a],i.attachShader(o[t],o[t].vs),i.attachShader(o[t],o[t].fs),i.linkProgram(o[t]),!i.getProgramParameter(o[t],i.LINK_STATUS))throw"Error in program linking:"+i.getProgramInfoLog(o[t]);return n=(n=n.concat(o[t].vs.deps)).concat(o[t].fs.deps),o[t].deps=n,o[t]},r.use=r.program=function(t,n,s){return o.hasOwnProperty(t)?(a=o[t],i.useProgram(a),e.link(a,a.deps),a):r.create(t,n,s)},r.delete=function(t){o.hasOwnProperty(t)&&(i.detachShader(o[t],o[t].vs),i.detachShader(o[t],o[t].fs),i.deleteProgram(o[t]),delete o[t])},r.shader=function(t,e){var a=t;return s.create(a,e),r},r.shader.vertex=function(t){var e={type:"vertex"};return t.name&&(e.name=t.name),s.create(e,t)},r.shader.fragment=function(t){var e={type:"fragment"};return t.name&&(e.name=t.name),s.create(e,t)},r};var n=a(10)},function(t,e,a){"use strict";e.a=function t(e){var a=this instanceof t?this:{},i=e;a.create=function(t,e,r,o){if(a[t]={ptr:i.createFramebuffer(),name:t,type:e||"float",width:r[0]||1024,height:r[1]||1024,texture:o||null,renderbuffer:i.createRenderbuffer()},null===a[t].texture){var s="float"==e?new Float32Array(r[0]*r[1]*4):new Uint8Array(r[0]*r[1]*4);a[t].texture=Object(n.a)(i).create(t,e,r,"rgba",s)}var u=a[t].renderbuffer;return i.bindFramebuffer(i.FRAMEBUFFER,a[t].ptr),i.bindRenderbuffer(i.RENDERBUFFER,u),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,a[t].width,a[t].height),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,a[t].texture.ptr,0),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,u),i.bindRenderbuffer(i.RENDERBUFFER,null),i.bindFramebuffer(i.FRAMEBUFFER,null),a[t].enableRead=function(t){i.activeTexture(i.TEXTURE0+this.texture.index),i.bindTexture(i.TEXTURE_2D,this.texture.ptr),this.texture.location=i.getUniformLocation(t,this.texture.name),i.uniform1i(this.texture.location,this.texture.index)},a[t].delete=function(){i.bindRenderbuffer(gl.RENDERBUFFER,null),i.bindFramebuffer(gl.FRAMEBUFFER,null),i.deleteRenderbuffer(this.renderbuffer),i.deleteTexture(this.texture.ptr),i.deleteFramebuffer(this.ptr)},a[t]};return a};var n=a(9)},function(t,e,a){"use strict";e.a=function(t,e,a){return{aggregate:Object(n.a)(t),cache:Object(i.a)(t),match:Object(r.a)(t,e),extent:Object(o.a)(t),visualize:Object(s.a)(t)}};a(11),a(12);var n=a(48),i=a(49),r=a(50),o=a(51),s=a(52)},function(t,e,a){"use strict";e.a=function(t){var e={};t.uniform("uGroupGetStat","float",0).uniform("uAggrOpt","int",2);var a=t.shader.vertex(function(){var t,e,a;gl_PointSize=1,t=(this.aDataIdx+.5)/this.uDataDim.x,e=(this.aDataIdy+.5)/this.uDataDim.y,this.vResult=this.getData(this.uFieldId,t,e),this.aDataIdy*this.uDataDim.x+this.aDataIdx>=this.uDataSize&&(this.vResult=0);1==this.uFilterFlag&&texture2D(this.fFilterResults,vec2(t,e)).a<this.uVisLevel-.01&&(this.vResult=0);for(var n=new Vec2,i=0;i<2;i++){var r=new Int;if(-1!=(r=this.uGroupFields[i])){if(this.uIndexCount>0&&(0==r?a=t:1==r&&(a=e)),0==this.uIndexCount||r>1){var o=new Vec2;o=this.getFieldDomain(r),a=(this.getData(r,t,e)-o.x)/(o.y-o.x)*this.getFieldWidth(r)/(this.getFieldWidth(r)+1),a+=.5/this.getFieldWidth(r)}n[i]=2*a-1}else n[i]=.5}gl_Position=vec4(n,0,1)}),o=t.shader.fragment(function(){0==this.vResult&&discard;2==this.uAggrOpt?gl_FragColor=vec4(0,0,0,1):gl_FragColor=vec4(0,0,1,this.vResult)});t.program("group",a,o);var s=t.shader.vertex(function(){gl_Position=vec4(this._square,0,1)}),u=t.shader.fragment(function(){var t,e,a;$vec4(value),t=gl_FragCoord.x/this.uResultDim.x,e=gl_FragCoord.y/this.uResultDim.y,e=(float(this.uFieldId-this.uIndexCount)+e)/float(this.uFieldCount),value=texture2D(this.uDataInput,vec2(t,e)),a=this.uAggrOpt>3?value.a/value.b:value.a,gl_FragColor=vec4(0,0,0,a)});t.program("group2",s,u);var c,l,f=!1;return e.execute=function(a){var o=a.$by||a.$group,s=[-1,-1].resultDim=[1,1];Array.isArray(o)||(o=[o]),2==o.length?(s[0]=t.fields.indexOf(o[0]),s[1]=t.fields.indexOf(o[1]),t.resultDimension=[t.fieldWidths[s[0]],t.fieldWidths[s[1]]]):(s[0]=t.fields.indexOf(o[0]),t.resultDimension=[t.fieldWidths[s[0]],1]);var u=a.$calculate||a.$reduce||a.$out||null;null===u&&(u={},Object.keys(a).filter(function(t){return"$by"!=t&&"$group"!=t}).forEach(function(t){u[t]=a[t]}));var d=Object.keys(u),h=d.map(function(t){return u[t][Object.keys(u[t])[0]]}),p=h.map(function(e){return t.fields.indexOf(e)}),m=h.map(function(t,e){return Object.keys(u[d[e]])[0]});t._update||t.framebuffer("fGroupResults","float",[t.resultDimension[0],t.resultDimension[1]*h.length]),function(e,a,n){c=n.length;var i=t.program("group");t.bindFramebuffer("fGroupResults"),t.framebuffer.enableRead("fDerivedValues"),t.framebuffer.enableRead("fFilterResults"),i.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdx.location,0),i.ext.vertexAttribDivisorANGLE(t.attribute.aDataValx.location,0),i.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdy.location,1),i.ext.vertexAttribDivisorANGLE(t.attribute.aDataValy.location,1),t.uniform.uGroupFields=a,i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE),i.blendEquation(i.FUNC_ADD),t.uniform.uGroupGetStat=0,new Array(n.length),t.uniform.uResultDim=t.resultDimension,f=!1,!1,n.forEach(function(a,n){var o=r.indexOf(e[n]);if(-1==o)throw Error("unknow operator for aggreation: "+e[n]);i.viewport(0,n*t.resultDimension[1],t.resultDimension[0],t.resultDimension[1]),0==o?i.blendEquation(i.MIN_EXT):1==o?i.blendEquation(i.MAX_EXT):i.blendEquation(i.FUNC_ADD),t.uniform.uFieldId=a,t.uniform.uAggrOpt=o,i.ext.drawArraysInstancedANGLE(i.POINTS,0,t.dataDimension[0],t.dataDimension[1]),o>3&&(f=!0,o>4&&!0)}),f?(t.uniform.uFieldCount.data,t.uniform.uDataInput.data,t.uniform.uDataInput.data=t.framebuffer.fGroupResults.texture,t.uniform.uFieldCount.data=n.length,t.framebuffer("fAggrStats","float",[t.resultDimension[0],t.resultDimension[1]*n.length]),t.bindFramebuffer("fAggrStats"),i=t.program("group2"),t.framebuffer.enableRead("fGroupResults"),i.ext.vertexAttribDivisorANGLE(t.attribute._square.location,0),i.disable(i.BLEND),n.forEach(function(a,n){var o=r.indexOf(e[n]);t.uniform.uAggrOpt=o,t.uniform.uFieldId=n,i.viewport(0,n*t.resultDimension[1],t.resultDimension[0],t.resultDimension[1]),i.drawArrays(i.TRIANGLES,0,6)}),t.uniform.uDataInput.data=t.framebuffer.fAggrStats.texture):t.uniform.uDataInput.data=t.framebuffer.fGroupResults.texture,i.bindFramebuffer(i.FRAMEBUFFER,null)}(m,s,p),t.getResult=e.result,t.indexes=o,t.dataDimension=t.resultDimension;var b=s.filter(function(t){return-1!==t}).concat(p);t.fields=o.map(function(t){return"bin@"==t.substring(0,4)?t.slice(4):t}).concat(d),t.uniform.uDataDim.data=t.resultDimension,t.uniform.uIndexCount.data=t.indexes.length,t.uniform.uFieldCount.data=t.fields.length-t.indexes.length,t.fieldDomains=b.map(function(e){return t.fieldDomains[e]}),t.fieldWidths=b.map(function(e){return t.fieldWidths[e]}),t.attribute.aDataItemId=Object(n.a)(0,t.resultDimension[0]*t.resultDimension[1]-1),t.dataSize=t.resultDimension[0]*t.resultDimension[1],t.uniform.uDataSize.data=t.dataSize,t.indexes.forEach(function(e,a){t.attribute["aDataId"+i[a]]=new Float32Array(t.resultDimension[a]).map(function(t,e){return e}),t.attribute["aDataVal"+i[a]]=new Float32Array(t.resultDimension[a]).map(function(t,e){return e}),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute["aDataId"+i[a]].location,a),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute["aDataVal"+i[a]].location,a)}),1==t.indexes.length&&(t.attribute.aDataIdy=new Float32Array(1),t.attribute.aDataValy=new Float32Array(1),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdy.location,1),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataValy.location,1)),t._update||(l=t.opt.extent(p,t.dataDimension));for(var v=t.indexes.length;v<t.indexes.length+p.length;v++)t.fieldDomains[v]=l[v-t.indexes.length],t.fieldWidths[v]=l[v-t.indexes.length][1]-l[v-t.indexes.length][0];t.uniform.uFieldDomains.data=t.fieldDomains,t.uniform.uFieldWidths.data=t.fieldWidths,t.uniform.uFilterFlag.data=0,t.indexes.forEach(function(e,a){var r=1;t.intervals.hasOwnProperty(e)&&(r=t.intervals[e].interval),t.attribute["aDataVal"+i[a]]=Object(n.a)(t.fieldDomains[a][0],t.fieldDomains[a][1],r),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute["aDataId"+i[a]].location,a),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute["aDataVal"+i[a]].location,a)})},e.result=function(e){var a=e||{},n=a.offset||[0,0],i=a.size||t.resultDimension[0]*t.resultDimension[1],r=Math.min(i,t.resultDimension[0]),o=Math.ceil(i/t.resultDimension[0]);t.bindFramebuffer("fGroupResults");var s=t.program("group"),u=new Float32Array(r*o*4*c);return s.readPixels(n[0],n[1],r,o*c,s.RGBA,s.FLOAT,u),s.bindFramebuffer(s.FRAMEBUFFER,null),u.filter(function(t,e){return e%4==3})},e};var n=a(7);const i=["x","y","z"],r=["$min","$max","$count","$sum","$avg","$var","$std"]},function(t,e,a){"use strict";e.a=function(t){var e,a={},n=t.uniform.uDataDim.data,i=t.uniform.uFieldCount.data,r=t.shader.vertex(function(){gl_Position=vec4(this._square,0,1)}),o=t.shader.fragment(function(){var t,e;$vec4(value),t=gl_FragCoord.x/this.uDataDim.x,e=gl_FragCoord.y/(this.uDataDim.y*float(this.uFieldCount)),value=texture2D(this.uDataInput,vec2(t,e)),gl_FragColor=value});return t.program("cache",r,o),a.execute=function(a,r,o){e=a,n=r||t.uniform.uDataDim.data,i=o||t.uniform.uFieldCount.data,console.log(i),t.framebuffer(a,"float",[n[0],n[1]*i]),t.bindFramebuffer(a);var s=t.program("cache");s.viewport(0,0,n[0],n[1]*i),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.disable(s.CULL_FACE),s.disable(s.DEPTH_TEST),s.disable(s.BLEND),s.drawArrays(s.TRIANGLES,0,6);var u=new Float32Array(n[0]*n[1]*4*i);s.readPixels(0,0,n[0],n[1]*i,s.RGBA,s.FLOAT,u),console.log(u.filter(function(t,e){return e%4==3})),s.bindFramebuffer(s.FRAMEBUFFER,null),t.framebuffer.enableRead(a),t.uniform.uDataInput=t.framebuffer[a].texture},a.result=function(){t.bindFramebuffer(e);var a=t.program("cache"),r=new Float32Array(n[0]*n[1]*4*i);return a.readPixels(0,0,n[0],n[1]*i,a.RGBA,a.FLOAT,r),a.bindFramebuffer(a.FRAMEBUFFER,null),r.filter(function(t,e){return e%4==0})},a}},function(t,e,a){"use strict";function n(){var t,e,a,n=new Int(0),i=new Int(0),r=new Bool(!1);t=(this.aDataIdx+.5)/this.uDataDim.x,e=(this.aDataIdy+.5)/this.uDataDim.y;for(var o=0;o<$(fieldCount)+$(indexCount);o++)1!=this.uFilterControls[o]&&1!=this.uVisControls[o]||(a=this.getData(o,t,e),1==this.uFilterControls[o]&&(a<this.uFilterRanges[o].x||a>=this.uFilterRanges[o].y)&&(n-=1),1==this.uVisControls[o]&&((a<this.uVisRanges[o].x||a>=this.uVisRanges[o].y)&&(i-=1),r=!0));this.vResult=.1,n<0?this.vResult=0:r&&(this.vResult=i<0?.1:.2),gl_PointSize=1,gl_Position=vec4(2*t-1,2*e-1,0,1)}function i(){var t,e,a;t=(this.aDataIdx+.5)/this.uDataDim.x,e=(this.aDataIdy+.5)/this.uDataDim.y,this.vResult=this.uFilterLevel-.1,a=this.getData(this.uFieldId,t,e);for(var n=0;n<100;n++)n<this.uSelectCount&&a==this.uInSelections[n]&&(this.vResult=this.uFilterLevel);gl_PointSize=1,gl_Position=vec4(2*t-1,2*e-1,0,1)}function r(){gl_FragColor=vec4(0,0,0,this.vResult)}e.a=function(t){const e=100;var a={},o=t.uniform.uDataDim.data,s=t.fields.length,u=new Array(s).fill(0),c=t.fieldDomains,l=new Array(s).fill(0),f=t.fieldDomains,d=new Array(e);t.uniform("uFilterControls","int",u).uniform("uVisControls","int",u).uniform("uFilterRanges","vec2",c).uniform("uVisRanges","vec2",c).uniform("uInSelections","float",Float32Array.from(d)).uniform("uSelectMax","int",e).uniform("uSelectCount","int",0);var h={vs:t.shader.vertex(n),fs:t.shader.fragment(r)},p={vs:t.shader.vertex(i),fs:t.shader.fragment(r)};return t.program("filter",h.vs,h.fs),t.program("match",p.vs,p.fs),a.control=function(t){},a.execute=function(a){u=new Array(s).fill(0),l=new Array(s).fill(0);var n=a;Object.keys(t.crossfilters).forEach(function(e,a){t.categoryIndex.hasOwnProperty(e)&&!t.crossfilters[e].$in&&(t.crossfilters[e]={$in:t.crossfilters[e]})}),Object.keys(n).forEach(function(e,n){t.categoryIndex.hasOwnProperty(e)&&!a[e].$in&&(a[e]={$in:a[e]})}),t.uniform.uFilterFlag=1,t._update||(c=t.fieldDomains.slice(),f=t.fieldDomains.slice());var i=function(a){var n,i=t.fields,r=Object.keys(a).filter(function(t){return a[t].hasOwnProperty("$in")}).concat(Object.keys(t.crossfilters).filter(function(e){return t.crossfilters[e].hasOwnProperty("$in")}));t.bindFramebuffer("fFilterResults"),t.framebuffer.enableRead("fDerivedValues"),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdy.location,1),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataValy.location,1),r.length&&((n=t.program("match")).viewport(0,0,o[0],o[1]),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdx.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataValx.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdy.location,1),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataValy.location,1),n.clearColor(1,1,1,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,n.ONE),n.blendEquation(n.MIN_EXT),r.forEach(function(r){var s=i.indexOf(r),u=a.hasOwnProperty(r)?a[r].$in:t.crossfilters[r].$in;u=t.categoryIndex.hasOwnProperty(r)?u.slice(0,e).map(function(e){return t.categoryIndex[r][e]}):u.slice(0,e),t.uniform.uSelectCount=u.length,t.uniform.uInSelections=Float32Array.from(u),t.uniform.uFieldId=s,n.ext.drawArraysInstancedANGLE(n.POINTS,0,o[0],o[1]),c[s]=[Math.min.apply(null,u),Math.max.apply(null,u)]}));var d=Object.keys(a).filter(function(t){return!a[t].hasOwnProperty("$in")}),h=Object.keys(t.crossfilters).filter(function(e){return!t.crossfilters[e].hasOwnProperty("$in")});return(d.length||h.length)&&(u=new Array(s).fill(0),d.forEach(function(t){var e=i.indexOf(t);-1!==e?(a[t].length<2&&(a[t][1]=a[t][0]),u[e]=1,c[e]=a[t]):console.log("Skipped: Matching on invalid data field "+t)}),h.forEach(function(e){var a=i.indexOf(e);-1!==a?(t.crossfilters[e].length<2&&(t.crossfilters[e][1]=t.crossfilters[e][0]),l[a]=1,f[a]=t.crossfilters[e]):console.log("Skipped: Matching on invalid data field "+e)}),t.uniform.uFilterControls.data=u,t.uniform.uFilterRanges.data=c,t.uniform.uVisControls.data=l,t.uniform.uVisRanges.data=f,n=t.program("filter"),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdx.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataValx.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdy.location,1),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataValy.location,1),n.disable(n.BLEND),n.viewport(0,0,o[0],o[1]),n.ext.drawArraysInstancedANGLE(n.POINTS,0,o[0],o[1])),t.ctx.bindFramebuffer(t.ctx.FRAMEBUFFER,null),c}(a);t._update||(i.forEach(function(e,a){var n=e;"int"==t.dtypes[a]&&(n[1]-=1),t.fieldDomains[a]=n,t.fieldWidths[a]=t.getDataWidth(a,n)}),t.uniform.uFieldDomains.data=t.fieldDomains,t.uniform.uFieldWidths.data=t.fieldWidths)},a.result=function(e){var a=e||{},n=a.offset||[0,0],i=a.size||t.dataDimension[0]*t.dataDimension[1],r=Math.min(i,t.dataDimension[0]),o=Math.ceil(i/t.dataDimension[0]);t.bindFramebuffer("fFilterResults");var s=t.ctx,u=new Uint8Array(r*o*4);return s.readPixels(n[0],n[1],r,o,s.RGBA,s.UNSIGNED_BYTE,u),s.bindFramebuffer(s.FRAMEBUFFER,null),u},a}},function(t,e,a){"use strict";e.a=function(t){var e=t.uniform.uFieldCount.data;t.framebuffer("fStats","float",[2,e]);var a=t.shader.vertex(function(){var t,e;gl_PointSize=1,this.aDataIdy*this.uDataDim.x+this.aDataIdx>=this.uDataSize?this.vDiscardData=1:(this.vDiscardData=0,t=(this.aDataIdx+.5)/this.uDataDim.x,e=(this.aDataIdy+.5)/this.uDataDim.y,this.vResult=this.getData(this.uFieldId,t,e)),gl_Position=vec4(0,0,0,1)}),i=t.shader.fragment(function(){1==this.vDiscardData&&discard,this.vResult>=0?gl_FragColor=vec4(0,0,1,this.vResult):gl_FragColor=vec4(-1,this.vResult,0,0)});t.program("stats",a,i);return function(e,a){t._update||t.framebuffer("fStats","float",[2,e.length]);var i=t.program("stats");t.framebuffer.enableRead("fGroupResults"),i.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdx.location,0),i.ext.vertexAttribDivisorANGLE(t.attribute.aDataValx.location,0),i.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdy.location,1),i.ext.vertexAttribDivisorANGLE(t.attribute.aDataValy.location,1),t.bindFramebuffer("fStats"),i.clearColor(n,n,n,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE);var r=new Array(e.length),o=(new Date,t.uniform.uIndexCount.data);e.forEach(function(e,n){t.uniform.uFieldId=n+o,i.viewport(0,n,1,1),i.blendEquation(i.MAX_EXT),i.ext.drawArraysInstancedANGLE(i.POINTS,0,a[0],a[1]),i.viewport(1,n,1,1),i.ext.drawArraysInstancedANGLE(i.POINTS,0,a[0],a[1]),i.blendEquation(i.MIN_EXT),i.ext.drawArraysInstancedANGLE(i.POINTS,0,a[0],a[1])});var s=new Float32Array(8*e.length);return i.readPixels(0,0,2,e.length,i.RGBA,i.FLOAT,s),e.forEach(function(t,e){var a=s.slice(8*e,8*e+8),n=a[4]<0?a[5]:a[7],i=a[2]>0?a[3]:a[1];r[e]=[n,i]}),i.bindFramebuffer(i.FRAMEBUFFER,null),r}};const n=-Math.pow(2,128)},function(t,e,a){"use strict";e.a=function(t){var e=Object(n.a)(t),a=t.padding||{left:0,right:0,top:0,bottom:0},l=[t.viewport[0],t.viewport[1]],f=new s.a({container:t.container,width:l[0]+a.left+a.right,height:l[1]+a.top+a.bottom,canvas:t.canvas,padding:a});t.uniform("uVisualEncodings","int",new Array(u.length).fill(-1)).uniform("uViewDim","vec2",t.viewport).uniform("uVisShape","int",1).uniform("uInterleaveX","int",0).uniform("uVisDomains","vec2",t.fieldDomains.map(t=>t.slice())).uniform("uVisScale","vec2",[1,1]).uniform("uPosOffset","vec2",[0,0]).uniform("uFeatureCount","int",0).uniform("uMarkSize","float",10).uniform("uMarkSpace","vec2",[.02,.02]).uniform("uDefaultAlpha","float",1).uniform("uDefaultWidth","float",1/t.viewport[0]).uniform("uDefaultHeight","float",1/t.viewport[1]).uniform("uMaxRGBA","vec4",[0,0,0,0]).uniform("uDefaultColor","vec3",[.8,0,0]).uniform("uColorMode","int",1).varying("vColorRGBA","vec4");var d=Object(r.a)(t);t.framebuffer("offScreenFBO","float",t.viewport),t.framebuffer("visStats","float",[1,1]),t.renderMode="instancedXY";Object(i.a)(t);function h(e){if(Array.isArray(e)){t.uniform.uFeatureCount=e.length;var a=new Float32Array(2*e.length);e.forEach(function(e,n){a[2*n]=t.fields.indexOf(e),a[2*n+1]=n}),t.attribute.aDataFieldId=a}}var p=function(n){t.renderMode="instancedXY",t.revealDensity=!1;var i=n.vmap||{},r=n.mark||i.mark||"line",s=(n.data,n.interaction),u=n.viewIndex,p=(t.views[u].id,{}),m=i.viewport||[t.views[u].width,t.views[u].height]||l,b=m[0],v=m[1],g=t.views[u].padding||a,y=t.views[u].offset||[0,0],x=Object(o.a)(t,i,e);t._update||t.fields.forEach(function(e,a){p[e]=t.fieldDomains[a].slice(),i.zero&&(e==i.height||e==i.width)&&p[e][0]>0&&(p[e][0]=0)});var D=t.program(t.renderMode);if(t.framebuffer.enableRead("fFilterResults"),t.framebuffer.enableRead("fDerivedValues"),t.framebuffer.enableRead("fGroupResults"),"instancedXY"==t.renderMode)t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdx.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataValx.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataIdy.location,1),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataValy.location,1);else if("interleave"==t.renderMode)h(i.x),h(i.y),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataFieldId.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataItemId.location,1);else{for(var E=new Float32Array(t.dataSize),A=new Float32Array(t.dataSize),w=0;w<t.dataDimension[1];w++)for(var F=0;F<t.dataDimension[0];F++)E[w*t.dataDimension[0]+F]=t.attribute.aDataValx.data[F],A[w*t.dataDimension[0]+F]=t.attribute.aDataValy.data[w];t.attribute.aDataItemVal0=E,t.attribute.aDataItemVal1=A,t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aVertexId.location,0),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataItemId.location,1),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataItemVal0.location,1),t.ctx.ext.vertexAttribDivisorANGLE(t.attribute.aDataItemVal1.location,1)}var O={domain:p,width:b,height:v,fields:t.fields,vmap:i,onclick:s,categories:t.categoryLookup,padding:g,left:y[0],top:l[1]-v-y[1],colors:e.getColors(),showLegend:t.views[u].legend};if(O=Object.assign(O,x),t.revealDensity?(t.bindFramebuffer("offScreenFBO"),D.clearColor(1,1,1,0),D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT),D.blendFunc(D.ONE,D.ONE)):(t.bindFramebuffer(null),D.blendFunc(D.ONE,D.ONE_MINUS_SRC_ALPHA)),D.viewport(y[0]+g.left,y[1]+g.bottom,b-g.left-g.right,v-g.top-g.bottom),D.lineWidth(1),D.disable(D.CULL_FACE),D.disable(D.DEPTH_TEST),D.enable(D.BLEND),D.blendEquation(D.FUNC_ADD),"stack"==r){var I=t.readResult("row");O.data=I.filter(t=>t[i.y]>0),O.fields=t.fields,t.intervals.hasOwnProperty(i.x)&&(O.isHistogram=!0)}if(t._update){if(t.uniform.uVisDomains=t.views[u].domains,"stack"==r){var I=t.readResult("row");t.views[u].chart.update({data:I})}}else{var _=t.views[u];_.domains=Object.keys(p).map(t=>p[t]),t.uniform.uVisDomains=_.domains,_.hasOwnProperty("chart")&&"function"==typeof _.chart.svg.remove&&_.chart.svg.remove(),_.chart=f.addChart(O)}var k=D.POINTS;if(-1!==["rect","bar"].indexOf(r)?k=D.TRIANGLES:"line"==r&&(k=D.LINE_STRIP),"stack"!=r&&function(){if("interleave"==t.renderMode){var e=t.attribute.aDataFieldId.data.length/t.attribute.aDataFieldId.size;D.ext.drawArraysInstancedANGLE(k,0,e,t.dataSize)}else"polygon"==t.renderMode?D.ext.drawArraysInstancedANGLE(k,0,6,t.dataSize):k==D.LINE_STRIP?(console.log(t.dataDimension),D.ext.drawArraysInstancedANGLE(k,0,t.dataDimension[0],t.dataDimension[1])):D.ext.drawArraysInstancedANGLE(k,0,t.dataDimension[0],t.dataDimension[1])}(),t.revealDensity&&d({viewIndex:u,dim:[b,v],offset:y,padding:g}),t.bindFramebuffer(null),!t._update){var R=Object.keys(i).filter(function(t){return-1!==c.indexOf(t)});R.forEach(function(e){var a=i.id||t.views[u].id,n={};n[a]=i[e],t.interactions.push({event:e,condition:i[e].condition,from:a,response:n})})}};return p.chart=f,p};var n=a(53),i=(a(1),a(56)),r=a(12),o=a(57),s=(a(13),a(59));const u=["x","y","color","opacity","width","height","size"],c=["click","hover","brush","zoom","pan"]},function(t,e,a){"use strict";e.a=function(t){var e={};return t.uniform("uColorMode","int",0).uniform("uColorCount","int",o).uniform("uColorSet","vec3",h(c)).texture("tColorGraident","float",d(u),[r,1],"rgba").subroutine("mapColorRGB","vec3",p),e.updateScheme=function(e){"string"==typeof e&&n.a.hasOwnProperty(e)?u=n.a[e]:Array.isArray(e)&&(u=e),t.texture.tColorGraident=d(u)},e.updateTable=function(e){c=e,t.uniform.uColorSet=h(e)},e.colorTable=s.map(function(t){return function(t){var e=t[0],a=t[1],n=t[2];if(e>255||a>255||n>255)throw"Invalid color component";return(256+e).toString(16).substr(1)+((1<<24)+(a<<16)|n<<8|1).toString(16).substr(1)}(t)}),e.getColors=function(){return 0==t.uniform.uColorMode?c:u},e.rgb=l,e.rgba=f,e};var n=a(54),i=a(55);const r=256,o=32,s=[[255,187,120],[255,127,14],[174,199,232],[44,160,44],[31,119,180],[255,152,150],[214,39,40],[197,176,213],[152,223,138],[148,103,189],[247,182,210],[227,119,194],[196,156,148],[140,86,75],[127,127,127],[219,219,141],[199,199,199],[188,189,34],[158,218,229],[23,190,207]];var u=n.a.viridis,c=s;function l(t){var e,a;return e="#"==t.slice(0,1)?t.slice(1):(a=t,void 0!==i.a[a.toLowerCase()]&&i.a[a.toLowerCase()]).slice(1),[parseInt(e.substring(0,2),16)/255,parseInt(e.substring(2,4),16)/255,parseInt(e.substring(4,6),16)/255]}function f(t,e){var a=e||1,n=l(t);return[n[0],n[1],n[2],a]}function d(t){var e=t.length-1,a=e>=0?r/(e+1):1,n=new Float32Array(4*r);t.push(t[e]);for(var i=0;i<e+1;i++)for(var o=f(t[i]),s=f(t[i+1]),u=4*Math.floor(i*a),c=0;c<a;c++){var l=c/a;n[u+4*c]=o[0]+(s[0]-o[0])*l,n[u+4*c+1]=o[1]+(s[1]-o[1])*l,n[u+4*c+2]=o[2]+(s[2]-o[2])*l,n[u+4*c+3]=o[3]+(s[3]-o[3])*l}return t.pop(),n}function h(t){var e=new Float32Array(3*o),a=!1;return 3==t[0].length&&(a=!0),t.forEach(function(t,n){var i=t;a||(i=255*l(t)),e[3*n]=i[0]/255,e[3*n+1]=i[1]/255,e[3*n+2]=i[2]/255}),e}function p(t,e){var a=new Vec2,n=new Vec3,i=new Int;return-1==fieldId?n=this.uDefaultColor:1==this.uColorMode?n=texture2D(this.tColorGraident,vec2(value,1)).rgb:(a=this.uVisDomains[fieldId],n=(i=int(value*(a.y-a.x)+a.x))>=this.uColorCount?vec3(0,0,0):this.uColorSet[i]),n}},function(t,e,a){"use strict";e.a={inferno:["#000004","#010005","#010106","#010108","#02010a","#02020c","#02020e","#030210","#040312","#040314","#050417","#060419","#07051b","#08051d","#09061f","#0a0722","#0b0724","#0c0826","#0d0829","#0e092b","#10092d","#110a30","#120a32","#140b34","#150b37","#160b39","#180c3c","#190c3e","#1b0c41","#1c0c43","#1e0c45","#1f0c48","#210c4a","#230c4c","#240c4f","#260c51","#280b53","#290b55","#2b0b57","#2d0b59","#2f0a5b","#310a5c","#320a5e","#340a5f","#360961","#380962","#390963","#3b0964","#3d0965","#3e0966","#400a67","#420a68","#440a68","#450a69","#470b6a","#490b6a","#4a0c6b","#4c0c6b","#4d0d6c","#4f0d6c","#510e6c","#520e6d","#540f6d","#550f6d","#57106e","#59106e","#5a116e","#5c126e","#5d126e","#5f136e","#61136e","#62146e","#64156e","#65156e","#67166e","#69166e","#6a176e","#6c186e","#6d186e","#6f196e","#71196e","#721a6e","#741a6e","#751b6e","#771c6d","#781c6d","#7a1d6d","#7c1d6d","#7d1e6d","#7f1e6c","#801f6c","#82206c","#84206b","#85216b","#87216b","#88226a","#8a226a","#8c2369","#8d2369","#8f2469","#902568","#922568","#932667","#952667","#972766","#982766","#9a2865","#9b2964","#9d2964","#9f2a63","#a02a63","#a22b62","#a32c61","#a52c60","#a62d60","#a82e5f","#a92e5e","#ab2f5e","#ad305d","#ae305c","#b0315b","#b1325a","#b3325a","#b43359","#b63458","#b73557","#b93556","#ba3655","#bc3754","#bd3853","#bf3952","#c03a51","#c13a50","#c33b4f","#c43c4e","#c63d4d","#c73e4c","#c83f4b","#ca404a","#cb4149","#cc4248","#ce4347","#cf4446","#d04545","#d24644","#d34743","#d44842","#d54a41","#d74b3f","#d84c3e","#d94d3d","#da4e3c","#db503b","#dd513a","#de5238","#df5337","#e05536","#e15635","#e25734","#e35933","#e45a31","#e55c30","#e65d2f","#e75e2e","#e8602d","#e9612b","#ea632a","#eb6429","#eb6628","#ec6726","#ed6925","#ee6a24","#ef6c23","#ef6e21","#f06f20","#f1711f","#f1731d","#f2741c","#f3761b","#f37819","#f47918","#f57b17","#f57d15","#f67e14","#f68013","#f78212","#f78410","#f8850f","#f8870e","#f8890c","#f98b0b","#f98c0a","#f98e09","#fa9008","#fa9207","#fa9407","#fb9606","#fb9706","#fb9906","#fb9b06","#fb9d07","#fc9f07","#fca108","#fca309","#fca50a","#fca60c","#fca80d","#fcaa0f","#fcac11","#fcae12","#fcb014","#fcb216","#fcb418","#fbb61a","#fbb81d","#fbba1f","#fbbc21","#fbbe23","#fac026","#fac228","#fac42a","#fac62d","#f9c72f","#f9c932","#f9cb35","#f8cd37","#f8cf3a","#f7d13d","#f7d340","#f6d543","#f6d746","#f5d949","#f5db4c","#f4dd4f","#f4df53","#f4e156","#f3e35a","#f3e55d","#f2e661","#f2e865","#f2ea69","#f1ec6d","#f1ed71","#f1ef75","#f1f179","#f2f27d","#f2f482","#f3f586","#f3f68a","#f4f88e","#f5f992","#f6fa96","#f8fb9a","#f9fc9d","#fafda1","#fcffa4"],magma:["#000004","#010005","#010106","#010108","#020109","#02020b","#02020d","#03030f","#030312","#040414","#050416","#060518","#06051a","#07061c","#08071e","#090720","#0a0822","#0b0924","#0c0926","#0d0a29","#0e0b2b","#100b2d","#110c2f","#120d31","#130d34","#140e36","#150e38","#160f3b","#180f3d","#19103f","#1a1042","#1c1044","#1d1147","#1e1149","#20114b","#21114e","#221150","#241253","#251255","#271258","#29115a","#2a115c","#2c115f","#2d1161","#2f1163","#311165","#331067","#341069","#36106b","#38106c","#390f6e","#3b0f70","#3d0f71","#3f0f72","#400f74","#420f75","#440f76","#451077","#471078","#491078","#4a1079","#4c117a","#4e117b","#4f127b","#51127c","#52137c","#54137d","#56147d","#57157e","#59157e","#5a167e","#5c167f","#5d177f","#5f187f","#601880","#621980","#641a80","#651a80","#671b80","#681c81","#6a1c81","#6b1d81","#6d1d81","#6e1e81","#701f81","#721f81","#732081","#752181","#762181","#782281","#792282","#7b2382","#7c2382","#7e2482","#802582","#812581","#832681","#842681","#862781","#882781","#892881","#8b2981","#8c2981","#8e2a81","#902a81","#912b81","#932b80","#942c80","#962c80","#982d80","#992d80","#9b2e7f","#9c2e7f","#9e2f7f","#a02f7f","#a1307e","#a3307e","#a5317e","#a6317d","#a8327d","#aa337d","#ab337c","#ad347c","#ae347b","#b0357b","#b2357b","#b3367a","#b5367a","#b73779","#b83779","#ba3878","#bc3978","#bd3977","#bf3a77","#c03a76","#c23b75","#c43c75","#c53c74","#c73d73","#c83e73","#ca3e72","#cc3f71","#cd4071","#cf4070","#d0416f","#d2426f","#d3436e","#d5446d","#d6456c","#d8456c","#d9466b","#db476a","#dc4869","#de4968","#df4a68","#e04c67","#e24d66","#e34e65","#e44f64","#e55064","#e75263","#e85362","#e95462","#ea5661","#eb5760","#ec5860","#ed5a5f","#ee5b5e","#ef5d5e","#f05f5e","#f1605d","#f2625d","#f2645c","#f3655c","#f4675c","#f4695c","#f56b5c","#f66c5c","#f66e5c","#f7705c","#f7725c","#f8745c","#f8765c","#f9785d","#f9795d","#f97b5d","#fa7d5e","#fa7f5e","#fa815f","#fb835f","#fb8560","#fb8761","#fc8961","#fc8a62","#fc8c63","#fc8e64","#fc9065","#fd9266","#fd9467","#fd9668","#fd9869","#fd9a6a","#fd9b6b","#fe9d6c","#fe9f6d","#fea16e","#fea36f","#fea571","#fea772","#fea973","#feaa74","#feac76","#feae77","#feb078","#feb27a","#feb47b","#feb67c","#feb77e","#feb97f","#febb81","#febd82","#febf84","#fec185","#fec287","#fec488","#fec68a","#fec88c","#feca8d","#fecc8f","#fecd90","#fecf92","#fed194","#fed395","#fed597","#fed799","#fed89a","#fdda9c","#fddc9e","#fddea0","#fde0a1","#fde2a3","#fde3a5","#fde5a7","#fde7a9","#fde9aa","#fdebac","#fcecae","#fceeb0","#fcf0b2","#fcf2b4","#fcf4b6","#fcf6b8","#fcf7b9","#fcf9bb","#fcfbbd","#fcfdbf"],plasma:["#0d0887","#100788","#130789","#16078a","#19068c","#1b068d","#1d068e","#20068f","#220690","#240691","#260591","#280592","#2a0593","#2c0594","#2e0595","#2f0596","#310597","#330597","#350498","#370499","#38049a","#3a049a","#3c049b","#3e049c","#3f049c","#41049d","#43039e","#44039e","#46039f","#48039f","#4903a0","#4b03a1","#4c02a1","#4e02a2","#5002a2","#5102a3","#5302a3","#5502a4","#5601a4","#5801a4","#5901a5","#5b01a5","#5c01a6","#5e01a6","#6001a6","#6100a7","#6300a7","#6400a7","#6600a7","#6700a8","#6900a8","#6a00a8","#6c00a8","#6e00a8","#6f00a8","#7100a8","#7201a8","#7401a8","#7501a8","#7701a8","#7801a8","#7a02a8","#7b02a8","#7d03a8","#7e03a8","#8004a8","#8104a7","#8305a7","#8405a7","#8606a6","#8707a6","#8808a6","#8a09a5","#8b0aa5","#8d0ba5","#8e0ca4","#8f0da4","#910ea3","#920fa3","#9410a2","#9511a1","#9613a1","#9814a0","#99159f","#9a169f","#9c179e","#9d189d","#9e199d","#a01a9c","#a11b9b","#a21d9a","#a31e9a","#a51f99","#a62098","#a72197","#a82296","#aa2395","#ab2494","#ac2694","#ad2793","#ae2892","#b02991","#b12a90","#b22b8f","#b32c8e","#b42e8d","#b52f8c","#b6308b","#b7318a","#b83289","#ba3388","#bb3488","#bc3587","#bd3786","#be3885","#bf3984","#c03a83","#c13b82","#c23c81","#c33d80","#c43e7f","#c5407e","#c6417d","#c7427c","#c8437b","#c9447a","#ca457a","#cb4679","#cc4778","#cc4977","#cd4a76","#ce4b75","#cf4c74","#d04d73","#d14e72","#d24f71","#d35171","#d45270","#d5536f","#d5546e","#d6556d","#d7566c","#d8576b","#d9586a","#da5a6a","#da5b69","#db5c68","#dc5d67","#dd5e66","#de5f65","#de6164","#df6263","#e06363","#e16462","#e26561","#e26660","#e3685f","#e4695e","#e56a5d","#e56b5d","#e66c5c","#e76e5b","#e76f5a","#e87059","#e97158","#e97257","#ea7457","#eb7556","#eb7655","#ec7754","#ed7953","#ed7a52","#ee7b51","#ef7c51","#ef7e50","#f07f4f","#f0804e","#f1814d","#f1834c","#f2844b","#f3854b","#f3874a","#f48849","#f48948","#f58b47","#f58c46","#f68d45","#f68f44","#f79044","#f79143","#f79342","#f89441","#f89540","#f9973f","#f9983e","#f99a3e","#fa9b3d","#fa9c3c","#fa9e3b","#fb9f3a","#fba139","#fba238","#fca338","#fca537","#fca636","#fca835","#fca934","#fdab33","#fdac33","#fdae32","#fdaf31","#fdb130","#fdb22f","#fdb42f","#fdb52e","#feb72d","#feb82c","#feba2c","#febb2b","#febd2a","#febe2a","#fec029","#fdc229","#fdc328","#fdc527","#fdc627","#fdc827","#fdca26","#fdcb26","#fccd25","#fcce25","#fcd025","#fcd225","#fbd324","#fbd524","#fbd724","#fad824","#fada24","#f9dc24","#f9dd25","#f8df25","#f8e125","#f7e225","#f7e425","#f6e626","#f6e826","#f5e926","#f5eb27","#f4ed27","#f3ee27","#f3f027","#f2f227","#f1f426","#f1f525","#f0f724","#f0f921"],viridis:["#440154","#440256","#450457","#450559","#46075a","#46085c","#460a5d","#460b5e","#470d60","#470e61","#471063","#471164","#471365","#481467","#481668","#481769","#48186a","#481a6c","#481b6d","#481c6e","#481d6f","#481f70","#482071","#482173","#482374","#482475","#482576","#482677","#482878","#482979","#472a7a","#472c7a","#472d7b","#472e7c","#472f7d","#46307e","#46327e","#46337f","#463480","#453581","#453781","#453882","#443983","#443a83","#443b84","#433d84","#433e85","#423f85","#424086","#424186","#414287","#414487","#404588","#404688","#3f4788","#3f4889","#3e4989","#3e4a89","#3e4c8a","#3d4d8a","#3d4e8a","#3c4f8a","#3c508b","#3b518b","#3b528b","#3a538b","#3a548c","#39558c","#39568c","#38588c","#38598c","#375a8c","#375b8d","#365c8d","#365d8d","#355e8d","#355f8d","#34608d","#34618d","#33628d","#33638d","#32648e","#32658e","#31668e","#31678e","#31688e","#30698e","#306a8e","#2f6b8e","#2f6c8e","#2e6d8e","#2e6e8e","#2e6f8e","#2d708e","#2d718e","#2c718e","#2c728e","#2c738e","#2b748e","#2b758e","#2a768e","#2a778e","#2a788e","#29798e","#297a8e","#297b8e","#287c8e","#287d8e","#277e8e","#277f8e","#27808e","#26818e","#26828e","#26828e","#25838e","#25848e","#25858e","#24868e","#24878e","#23888e","#23898e","#238a8d","#228b8d","#228c8d","#228d8d","#218e8d","#218f8d","#21908d","#21918c","#20928c","#20928c","#20938c","#1f948c","#1f958b","#1f968b","#1f978b","#1f988b","#1f998a","#1f9a8a","#1e9b8a","#1e9c89","#1e9d89","#1f9e89","#1f9f88","#1fa088","#1fa188","#1fa187","#1fa287","#20a386","#20a486","#21a585","#21a685","#22a785","#22a884","#23a983","#24aa83","#25ab82","#25ac82","#26ad81","#27ad81","#28ae80","#29af7f","#2ab07f","#2cb17e","#2db27d","#2eb37c","#2fb47c","#31b57b","#32b67a","#34b679","#35b779","#37b878","#38b977","#3aba76","#3bbb75","#3dbc74","#3fbc73","#40bd72","#42be71","#44bf70","#46c06f","#48c16e","#4ac16d","#4cc26c","#4ec36b","#50c46a","#52c569","#54c568","#56c667","#58c765","#5ac864","#5cc863","#5ec962","#60ca60","#63cb5f","#65cb5e","#67cc5c","#69cd5b","#6ccd5a","#6ece58","#70cf57","#73d056","#75d054","#77d153","#7ad151","#7cd250","#7fd34e","#81d34d","#84d44b","#86d549","#89d548","#8bd646","#8ed645","#90d743","#93d741","#95d840","#98d83e","#9bd93c","#9dd93b","#a0da39","#a2da37","#a5db36","#a8db34","#aadc32","#addc30","#b0dd2f","#b2dd2d","#b5de2b","#b8de29","#bade28","#bddf26","#c0df25","#c2df23","#c5e021","#c8e020","#cae11f","#cde11d","#d0e11c","#d2e21b","#d5e21a","#d8e219","#dae319","#dde318","#dfe318","#e2e418","#e5e419","#e7e419","#eae51a","#ece51b","#efe51c","#f1e51d","#f4e61e","#f6e620","#f8e621","#fbe723","#fde725"]}},function(t,e,a){"use strict";e.a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},function(t,e,a){"use strict";function n(t,e,a,n,i,r,o){var s,u=new Vec2;return fieldId>-1?(fieldId>=this.uIndexCount?s=this.getNonIndexedData(fieldId,addrX,addrY):fieldId<this.uIndexCount&&(s=0==fieldId?indexedValue0:indexedValue1),0!=exp&&(s=pow(s,exp)),s=(s-(u=this.uVisDomains[fieldId]).x)/(u.y-u.x)):s=defaultValue,s}e.a=function(t){t.subroutine("visMap","float",n),t.program("instancedXY",t.shader.vertex(i.vs),t.shader.fragment(i.fs)),t.program("interleave",t.shader.vertex(r.vs),t.shader.fragment(r.fs)),t.program("polygon",t.shader.vertex(o.vs),t.shader.fragment(o.fs))};var i={vs:function(){var t,e,a,n,i,r,o,s=new Vec3;t=(this.aDataIdx+.5)/this.uDataDim.x,e=(this.aDataIdy+.5)/this.uDataDim.y,1==this.uFilterFlag?this.vResult=texture2D(this.fFilterResults,vec2(t,e)).a:this.vResult=this.uVisLevel,a=this.visMap(this.uVisualEncodings[0],t,e,this.aDataValx,this.aDataValy,0,0),n=this.visMap(this.uVisualEncodings[1],t,e,this.aDataValx,this.aDataValy,0,0),i=this.visMap(this.uVisualEncodings[2],t,e,this.aDataValx,this.aDataValy,-1,0),r=this.visMap(this.uVisualEncodings[3],t,e,this.aDataValx,this.aDataValy,this.uDefaultAlpha,0),o=this.visMap(this.uVisualEncodings[6],t,e,this.aDataValx,this.aDataValy,1,0),a=2*a-1,n=2*n-1,s=this.mapColorRGB(this.uVisualEncodings[2],i),gl_PointSize=o*this.uMarkSize,this.vColorRGBA=vec4(s,r),gl_Position=vec4(a,n,0,1)},fs:function(){new Bool;if(this.vResult<=this.uVisLevel+.01&&this.vResult>=this.uVisLevel-.01,1==this.uVisShape){var t=length(gl_PointCoord.xy-vec2(.5,.5));t>.5&&discard;var e=this.vColorRGBA.a-smoothstep(.35,.5,t);this.vResult<=this.uVisLevel+.01&&this.vResult>=this.uVisLevel-.01?gl_FragColor=vec4(this.vColorRGBA.rgb*e,e):discard}else this.vResult<=this.uVisLevel+.01&&this.vResult>=this.uVisLevel-.01?gl_FragColor=vec4(this.vColorRGBA.rgb*this.vColorRGBA.a,this.vColorRGBA.a):discard}},r={vs:function(){var t,e,a,n,i,r,o=new Vec3;gl_PointSize=this.uMarkSize,t=(mod(this.aDataItemId,this.uDataDim.x)+.5)/this.uDataDim.x,e=(floor(this.aDataItemId/this.uDataDim.x)+.5)/this.uDataDim.y,this.vResult=this.uVisLevel,1==this.uFilterFlag&&(this.vResult=texture2D(this.fFilterResults,vec2(t,e)).a),1==this.uInterleaveX?(a=this.aDataFieldId.y/float(this.uFeatureCount-1),n=this.visMap(int(this.aDataFieldId.x),t,e,t,e,1,0)):(n=1-this.aDataFieldId.y/float(this.uFeatureCount-1),a=this.visMap(int(this.aDataFieldId.x),t,e,t,e,1,0)),i=this.visMap(this.uVisualEncodings[2],t,e,t,e,-1,0),r=this.visMap(this.uVisualEncodings[3],t,e,t,e,this.uDefaultAlpha,0),a=2*a-1,n=2*n-1,o=this.mapColorRGB(this.uVisualEncodings[2],i),this.vColorRGBA=vec4(o*r,r),gl_Position=vec4(a,n,0,1)},fs:function(){this.vResult<=this.uVisLevel+.01&&this.vResult>=this.uVisLevel-.01?gl_FragColor=this.vColorRGBA:discard}},o={};o.vs=function(){var t,e,a,n,i,r,o,s,u,c,l=new Vec3;t=(mod(this.aDataItemId,this.uDataDim.x)+.5)/this.uDataDim.x,e=(floor(this.aDataItemId/this.uDataDim.x)+.5)/this.uDataDim.y,this.vResult=this.uVisLevel,1==this.uFilterFlag&&(this.vResult=texture2D(this.fFilterResults,vec2(t,e)).a),u=this.aDataItemVal0,c=this.aDataItemVal1,a=this.visMap(this.uVisualEncodings[0],t,e,u,c,0,0),n=this.visMap(this.uVisualEncodings[1],t,e,u,c,0,0),i=this.visMap(this.uVisualEncodings[2],t,e,u,c,-1,0),r=this.visMap(this.uVisualEncodings[3],t,e,u,c,this.uDefaultAlpha,0),o=this.visMap(this.uVisualEncodings[4],t,e,u,c,this.uDefaultWidth,0),s=this.visMap(this.uVisualEncodings[5],t,e,u,c,this.uDefaultHeight,0),this.visMap(this.uVisualEncodings[6],t,e,u,c,this.uMarkSize,0),a=a*(this.uFieldWidths[this.uVisualEncodings[0]]-1)/this.uFieldWidths[this.uVisualEncodings[0]],n=n*(this.uFieldWidths[this.uVisualEncodings[1]]-1)/this.uFieldWidths[this.uVisualEncodings[1]],o*=1-2*this.uMarkSpace.x,s*=1-2*this.uMarkSpace.y,a-=this.uMarkSpace.x*o,n+=this.uMarkSpace.y*s,0==this.aVertexId||3==this.aVertexId?(a=2*a-1,n=2*n-1):1==this.aVertexId?(a=2*a-1,n=2*(n+s)-1):2==this.aVertexId||5==this.aVertexId?(a=2*(a+o)-1,n=2*(n+s)-1):4==this.aVertexId?(a=2*(a+o)-1,n=2*n-1):(a=2*a-1,n=2*n-1),l=this.mapColorRGB(this.uVisualEncodings[2],i),this.vColorRGBA=vec4(l*r,r),gl_Position=vec4(a,n,0,1)},o.fs=function(){this.vResult<=this.uVisLevel+.01&&this.vResult>=this.uVisLevel-.01?gl_FragColor=this.vColorRGBA:discard}},function(t,e,a){"use strict";e.a=function(t,e,a){var i=e.opacity||e.alpha,r=new Int32Array(n.length);n.forEach(function(a,n){r[n]=t.fields.indexOf(e[a])}),t.uniform.uVisualEncodings.data=r,t.uniform.uDefaultAlpha.data=1,-1===r[2]?"string"==typeof e.color?"auto"===e.color?(t.revealDensity=!0,t.uniform.uRevealMode.data=1):t.uniform.uDefaultColor.data=a.rgb(e.color):"number"==typeof e.size&&(t.uniform.uMarkSize=e.size):t.categoryLookup.hasOwnProperty(e.color)?t.uniform.uColorMode=0:t.uniform.uColorMode=1;"number"==typeof i?t.uniform.uDefaultAlpha.data=i:-1===r[3]&&"string"==typeof i&&"auto"==i&&(t.revealDensity=!0,t.uniform.uRevealMode.data=0);Array.isArray(e.x)||Array.isArray(e.y)?(t.renderMode="interleave",Array.isArray(e.x)&&(t.uniform.uInterleaveX=0),Array.isArray(e.y)&&(t.uniform.uInterleaveX=1)):e.mark&&-1!==["rect","bar"].indexOf(e.mark)&&(t.renderMode="polygon");-1===r[6]&&"number"==typeof e.size&&(t.uniform.uMarkSize=e.size);var o={},s=-1!==["rect","bar"].indexOf(e.mark),u=[0,0];if(r[0]>-1){var c=t.fieldWidths[r[0]],l=t.fieldDomains[r[0]];t.categoryLookup.hasOwnProperty(e.x)?(o.scaleX="categorical",o.domainX=new Array(c).fill(0).map((a,n)=>t.categoryLookup[e.x][n])):s&&(o.scaleX="ordinal",o.domainX=new Array(c).fill(0).map((t,e)=>l[0]+e)),u[0]=.02}if(r[1]>-1){var c=t.fieldWidths[r[1]],l=t.fieldDomains[r[1]];t.categoryLookup.hasOwnProperty(e.y)?(o.scaleY="categorical",o.domainY=new Array(c).fill(0).map((a,n)=>t.categoryLookup[e.y][n]).reverse()):s&&(o.scaleY="ordinal",o.domainY=new Array(c).fill(0).map((t,e)=>l[0]+e).reverse()),u[1]=.02}r[0]>-1&&r[1]>-1&&(u=[0,0]);if(t.uniform.uMarkSpace.data=u,t.intervals.hasOwnProperty(e.x)||t.intervals.hasOwnProperty(e.y)){var f=e.x||e.y,d=t.intervals[f].min,h=t.intervals[f].max,p=t.intervals[f].interval,m=(h-d)/p;o.isHistogram=!0,o.domainX=new Array(m).fill(d).map(function(t,e){return t+e*p})}t._update||(!e.width&&e.x?t.uniform.uDefaultWidth.data=1/t.fieldWidths[t.fields.indexOf(e.x)]:-1===r[4]&&"number"==typeof e.width&&(t.uniform.uDefaultWidth.data=e.width/width),!e.height&&e.y?t.uniform.uDefaultHeight.data=1/t.fieldWidths[t.fields.indexOf(e.y)]:-1===r[5]&&"number"==typeof e.width&&(t.uniform.uDefaultHeight.data=e.height/height));return o};const n=["x","y","color","opacity","width","height","size"]},function(t,e,a){"use strict";e.a=function(t){var e=t||{},a=e.container||this.svg[0],n=e.width||this.width,i=e.height||this.height,r=function(t){return t},o=function(t){return t},s=e.base||null,u=e.x||!1,c=e.y||!1,l=e.border||"#FFF",f=e.color||"#111",d=e.brush||function(){},h=e.brushstart||function(){},p=e.brushend||function(){};"function"==typeof u&&(r=u,u=!0);"function"==typeof c&&(o=c,c=!0);s=null===s?a.append("g").attr("class","selector"):a;s.append("rect").attr("x",0).attr("y",0).attr("width",n).attr("height",i).attr("fill-opacity",0).attr("stroke","none").css("cursor","crosshair");var m,b,v,g,y,x,D=s.append("rect").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("fill-opacity",.1).css("fill",f).css("stroke",l).css("cursor","move"),E={},A=!1,w=!1;s.svg.addEventListener("mousedown",function(t){t.preventDefault(),h.call(this),A=!0,m=t.clientX,b=t.clientY;var e,a,l,f,F=D.svg.getBoundingClientRect(),O=s.svg.getBoundingClientRect();m>F.left&&b>F.top&&m<F.left+F.width&&b<F.top+F.height&&(w=!0,y=F.left,x=F.top),w||(e=u?m-O.left:0,a=c?b-O.top:0,D.attr("x",e).attr("y",a).attr("width",0)),ondrag=function(t){if(A){v=t.clientX-m,g=t.clientY-b;var s=D.svg.getBoundingClientRect();if(w){var h=y+v-O.left,p=x+g-O.top;y+v<O.left&&(h=0),y+v+s.width>O.right&&(h=n-s.width),x+g<O.top&&(p=0),x+g+s.height>O.bottom&&(p=i-s.height),D.attr("x",h).attr("y",p)}else t.clientX<O.left&&(v=O.left-m),t.clientX>O.right&&(v=O.right-m),t.clientY>O.bottom&&(g=O.bottom-b),t.clientY<O.top&&(g=O.top-b),e=u?m+v-O.left:0,a=c?b+g-O.top:0,l=u?Math.abs(v):n,f=c?Math.abs(g):i,v<0&&g>=0&&D.attr("x",e),g<0&&v>=0&&D.attr("y",a),v<0&&g<0&&D.attr("x",e).attr("y",a),D.attr("width",l).attr("height",f);u&&(E.x=[r(s.left-O.left),r(s.right-O.left)]),c&&(E.y=[o(s.top-O.top),o(s.bottom-O.top)]),d.call(this,E)}},window.addEventListener("mousemove",ondrag,!1),window.addEventListener("mouseup",function(t){A&&(ondrag(t),A=!1,w&&(w=!1)),p.call(this,E),window.removeEventListener("mousemove",ondrag,!1)},!1)})}},function(t,e,a){"use strict";e.a=function(t){var e=this,a=t||{},s=a.container||document.body,u=a.style||null;this.width=s.clientWidth||400,this.height=s.clientHeight||300,"string"==typeof s&&(s=document.getElementById(s));r(e,o),r(e,a),this.vmap=a.vmap,this.width-=this.padding.left+this.padding.right,this.height-=this.padding.top+this.padding.bottom,this.data=a.data||[],this.div=document.createElement("div"),null!==u&&Object.keys(u).forEach(function(t){e.div.style[t]=u[t]});this.init=function(){return this.div.className=a.className||"p6-viz",this.div.style.position="relative",this.resize(this.width+this.padding.left+this.padding.right,this.height+this.padding.top+this.padding.bottom),a.style&&this.css(a.style),s.appendChild(this.div),this.viz(),e},this.createSVG=function(t){var t=t||{},e=t.width||this.width,a=t.height||this.height,i=t.padding||this.padding;return new n.a({width:e,height:a,padding:i,style:{position:"absolute"}})};var c=a.canvas,l=(this.createSVG(),a.vmap,this.padding,a.domain,a.scales,this.createSVG()),f=this.createSVG();return this.set=function(t){r(e,t)},this.addProperty=function(t,e){return r(t,e),t},this.viz=function(){return e.div.appendChild(l.svg),e.div.appendChild(c),e.div.appendChild(f.svg),e},this.render=this.viz,this.css=function(t){for(var e in t)this.div.style[e]=t[e];return this},this.resize=function(t,e){this.div.style.width=t+"px",this.div.style.height=e+"px"},this.destroy=function(){this._super.destroy(),s.removeChild(this.div),div=null},this.hide=function(){this.div.style.display="none"},this.show=function(){this.div.style.display="block"},this.innerWidth=function(){return this.width},this.innerHeight=function(){return this.height},this.addChart=function(t){return Object(i.a)(f,t)},this.exportImage=function(t){var e=document.createElement("canvas");return e.width=this.width,e.height=this.height,new Promise(function(a,n){var i=e.getContext("2d"),r=(new XMLSerializer).serializeToString(f.svg),o=self.URL||self.webkitURL||self,s=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),u=o.createObjectURL(s),l=new Image,d=new Image;l.onload=function(){i.drawImage(l,0,0),d.src=u,d.onload=function(){i.drawImage(d,0,0);var t=e.toDataURL("image/png");o.revokeObjectURL(t),a(t)}},l.onerror=function(){n(Error("Canvas Output Error!"))},d.onerror=function(){n(Error("SVG Output Error!"))},t(),l.src=c.toDataURL("image/png")})},e.init()};var n=a(14),i=a(60);function r(t,e){Object.keys(e).forEach(function(a){t[a]=e[a]})}var o={width:400,height:300,padding:{left:0,right:0,top:0,bottom:0}}},function(t,e,a){"use strict";e.a=function(t,e){var a=e||{},o=t.append("g"),s=a.width,u=a.height,c=a.top||0,l=a.left||0,f=a.vmap||{},d=a.isHistogram||a.hist||!1,h=a.fields||[],p=a.domain,m=a.categories,b=o.append("g"),v=(a.onclick,a.onhover,a.legend||!0),g=(a.axisOffset,a.padding||{left:0,right:0,top:0,bottom:0}),y=a.colors,x=a.scaleX||"linear",D=a.domainX||p[f.x]||p[f.width],E=a.scaleY||"linear",A=a.domainY||p[f.y]||p[f.height];s-=g.left+g.right,u-=g.top+g.bottom;var w={container:o,dim:"x",width:s,height:u,domain:D,scale:x,align:"bottom",format:Object(i.a)(".3s")},F={container:o,dim:"y",domain:A,scale:E,width:s,height:u,align:"left",format:Object(i.a)(".3s")};v&&-1!==h.indexOf(f.color)&&Object(r.a)({container:o,width:20,height:180,dim:"y",domain:p[f.color],pos:[s+g.right/2,0],colors:y});if("ordinal"==x||"categorical"==x){for(w.ticks=D.length;s/w.ticks<20;)w.ticks*=.5;var O=Math.max.apply(null,D.map(function(t){return"string"==typeof t?t.toString().length:1}));O>10&&(w.labelAngle=-30,w.tickLabelAlign="end",w.labelPos={x:0,y:-10})}if("ordinal"==E||"categorical"==E)for(F.ticks=A.length;s/F.ticks<20;)F.ticks*=.5;var I,_,k=[],R=[];if(Array.isArray(f.x)){var C=u/(f.x.length-1);f.x.forEach(function(t,e){w.position=e*C+1,w.domain=p[t],m.hasOwnProperty(t)&&(w.scale="ordinal",w.tickAlign="outer",w.domain=m[t].reverse());var a=20;0===e?(w.tickPosition=[0,-5],w.labelPos={x:0,y:2},a=35):(w.tickPosition=null,w.labelPos=null),I=Object(n.a)(w),k[e]=I,b.append("text").attr("x",5).attr("y",e*C-a).attr("dy","1em").css("text-anchor","middle").css("font-size","1em").text(t)})}if(Array.isArray(f.y)){var C=s/(f.y.length-1);f.y.forEach(function(t,e){F.position=e*C,F.domain=p[t],m.hasOwnProperty(t)&&(F.scale="ordinal",F.tickAlign="outer",F.domain=m[t].reverse()),e==f.y.length-1&&(F.tickPosition=[5,0],F.tickLabelAlign="start",F.labelPos={x:8,y:-5}),_=Object(n.a)(F),R[e]=_,b.append("text").attr("y",10-g.top).attr("x",e*C).attr("dy","1em").css("text-anchor","middle").css("font-size","1em").text(t)})}d&&(w.tickPosition=[s/D.length/2,0],w.scale="ordinal",w.domain=D,w.ticks=D.length);!f.x&&!f.width||Array.isArray(f.x)||(I=Object(n.a)(w));!f.y&&!f.height||Array.isArray(f.y)||(_=Object(n.a)(F));if((f.hasOwnProperty("x")||f.hasOwnProperty("width"))&&!Array.isArray(f.x)){var L=f.x||f.width;b.append("g").append("text").attr("x",s/2).attr("y",u+g.bottom/2).attr("dy","1em").css("text-anchor","middle").css("font-size","1.0em").css("font-weight","bold").css(" text-transform","capitalize").text(L)}if((f.hasOwnProperty("y")||f.hasOwnProperty("height"))&&!Array.isArray(f.y)){var T=f.y||f.height;Array.isArray(f.y)||b.append("g").append("text").attr("transform","rotate(-90)").attr("y",-g.left/1.25).attr("x",-u/2).attr("dy","1em").css("text-anchor","middle").css("font-size","1.0em").css("font-weight","bold").css(" text-transform","capitalize").text(T)}o.translate(g.left+l,g.top+c);var N={};return N.update=function(t){var e=t.data||[];e.length?e.forEach(function(t,e){var a=isFinite(_(t[f.y]))?_(t[f.y]):u;hMarks[e]&&hMarks[e].Attr({y:a,height:u-a,fill:"orange"})}):hMarks.forEach(function(t,e){t.Attr({y:0,height:0})})},N.removeAxis=function(){I.remove(),_.remove(),R.length&&R.forEach(function(t){t.remove()})},N.svg=o,N.x=Array.isArray(f.x)?k:I,N.y=Array.isArray(f.y)?R:_,N};var n=a(15),i=a(17),r=(a(16),a(62))},function(t,e,a){"use strict";e.a=function(t,e,a){for(var n=a||1,i=[],r=t;r<=e;r+=n)i.push(r);return i}},function(t,e,a){"use strict";e.a=function(t){var e=u++,a=t||{},c=a.container||null,l=a.width||null,f=a.height||null,d=a.pos||[0,0],h=a.dim||"x",p=a.padding||{left:0,right:0,top:0,bottom:0},m=(a.vmap,a.label||!1),b=a.colors||o,v=a.domain||["min","max"],g=a.format||Object(r.a)(".3s");b.length<2&&(b=o);l-=p.left+p.right,f-=p.top+p.bottom;var y,x=null===c?new n.a({width:l,height:f,padding:p}):c.append("g");"x"==h?(y={x1:0,x2:1,y1:0,y2:0},null===f&&(f=s)):(y={x1:0,x2:0,y1:0,y2:1},null===l&&(l=s));(function(t){var a=x.append("defs").append("linearGradient").attr("id","gradlegend"+e).attr(y);t.forEach(function(e,n){a.append("stop").attr("offset",n/(t.length-1)).attr("stop-color",t[t.length-n-1])})})(b),x.append("g").append("rect").attr("width",l-p.left).attr("height",f).style("fill","url(#gradlegend"+e+")"),x.append("text");m&&(m.append("text").attr("x",d[0]-5).attr("y",d[1]+f/2+5).style("fill","#222").style("text-anchor","end").text(Object(r.a)("2s")(v[0])),x.append("text").attr("x",d[0]+l-p.left+5).attr("y",d[1]+f/2+5).style("fill","#222").style("text-anchor","begin").text(Object(r.a)("2s")(v[1])));a.title&&x.append("g").append("text").attr("y",d[1]-p.top).attr("x",d[0]+l/2).attr("dy","1em").style("text-anchor","middle").text(a.title);"x"==h?new i.a({dim:"x",domain:v,container:x,align:"bottom",ticks:Math.floor(l/30),height:f,width:l,labelPos:{x:0,y:-20},format:g}):new i.a({dim:"y",domain:v,container:x,align:"right",ticks:Math.floor(f/30),height:f,width:l,labelPos:{x:0,y:-20},format:g});return x.translate(d[0]+p.left,d[1]+p.top),x};var n=a(14),i=a(15),r=a(17);const o=["white","steelblue"],s=20;var u=0},function(t,e,a){"use strict";e.a=function t(e){var a=this instanceof t?this:{},i=e||{},r=[],o=i.size||0,s=i.count||0,u=i.types||[],c=i.attributes||i.keys||i.names||[],l=i.struct||i.schema||{},f=i.strHashes||{},d=i.strLists||{},h={},p={},m={},b=i.skip||0;i.struct&&g(i.struct);function v(){return o&&u.length===c.length&&u.length>0&&(c.forEach(function(t,e){y(e),r[e]=new p[t](o),r.hasOwnProperty(t)||Object.defineProperty(r,t,{get:function(){return r[e]}})}),r.attributes=c,r.keys=c,r.types=u,r.struct=l,r.strLists=d,r.strHashes=f,r.size=o,r.get=function(t){var e=c.indexOf(t);if(e<0)throw new Error("Error: No column named "+t);return r[e]}),a}function g(t){if(l=t,Array.isArray(l))l.forEach(function(t){c.push(t.name),u.push(t.type)});else for(var e in l)c.push(e),u.push(l[e]);return l}function y(t){"string"==typeof t&&(t=c.indexOf(t));var e=c[t];if(p[e]=n[u[t]],p[e]===n.string)d[e]=[],f[e]={},m[e]=function(t){return f[e].hasOwnProperty(t)||(f[e][t]=d[e].length,d[e].push(t)),f[e][t]};else if(p[e]===n.int||p[e]===n.short||p[e]===n.integer)m[e]=function(t){return parseInt(t)||0};else if(p[e]===n.float||p[e]===n.double||p[e]===n.numeric)m[e]=function(t){return parseFloat(t)||0};else{if(p[e]!==n.time&&p[e]!==n.temporal)throw new Error("Invalid data type for TypedArray data!");m[e]=function(t){return parseFloat(t)||0}}}a.addRows=function(t){if(0===s&&b>0)for(var e=0;e<b;e++)t.shift();return t.forEach(function(t,e){t.forEach(function(t,e){r[e][s]=m[c[e]](t)}),s++}),s};a.addObjects=function(t){if(0===s&&b>0)for(var e=0;e<b;e++)t.shift();return t.forEach(function(t,e){Object.keys(t).forEach(function(e,a){r[a][s]=m[c[a]](t[e])}),s++}),s};a.addColumn=function(t){var e=t||{},a=e.data||e.array,i=e.name,l=e.dtype,h=e.values||[],b=c.indexOf(i);if(b<0&&(c.push(i),u.push(l),y(i),b=u.length-1,Object.defineProperty(r,i,{get:function(){return r[b]}})),a instanceof n[u[b]])r[b]=a,h.length&&(d[i]=h,f[i]={},h.forEach(function(t,e){f[i][t]=e}));else{if(!ArrayBuffer.isView(a))throw new Error("Error: Invalid data type for columnArray!");r[b]=new p[i](o);for(var v=0;v<o;v++)r[b][v]=m[i](a[v])}o=s=a.length};a.metadata=a.info=function(){return{size:o,count:s,attributes:c,types:u,strLists:d,strHashes:f,stats:a.stats()}};a.columns=function(){return r};a.data=function(){var t=r;return t.stats=a.stats(),t.keys=c,t.size=o,t.strHashes=f,t.strLists=d,t.dtypes=u,t};a.stats=function(t){var t=t||c;return t.forEach(function(t,e){if(!h[e]){var a,n,i;a=n=i=r[e][0];for(var o=1;o<r[e].length;o++){var s=r[e][o];s>n?n=s:s<a&&(a=s),i-=(i-s)/o}n==a&&(n+=1e-6),h[t]={min:a,max:n,avg:i}}}),h};a.domains=function(t){var t=t||c,e=[];return t.forEach(function(t,a){e[t]=[h[t].min,h[t].max]}),e};a.ctypes=function(){return n};a.size=o;a.exportAsJSON=function(){for(var t=new Array(o),e=0;e<o;e++){var a={};c.forEach(function(t,n){"string"==u[n]?a[t]=d[t][r[n][e]]:a[t]=r[n][e]}),t[e]=a}return t};a.exportAsRowArray=function(){for(var t=new Array(o),e=0;e<o;e++){var a=new Array(c.length);c.forEach(function(t,n){"string"==u[n]?a[n]=d[t][r[n][e]]:a[n]=r[n][e]}),t[e]=a}return t};a.export=function(t){var e=t||"json";return"rowArray"==e?a.exportAsRowArray():a.exportAsJSON()};a.import=function(t){var e=t.data||[],n=t.schema||{};o=e.length,g(n),v(),a.addObjects(e)};return v()};var n=a(1)},function(t,e,a){"use strict";function n(t){var e=t.url||t,a=t.method||"GET",n=t.dataType||"json",i=t.data||[],r=[];for(var o in i)r.push(encodeURIComponent(o)+"="+encodeURIComponent(i[o]));return new Promise(function(t,r){var o=new XMLHttpRequest;o.open(a,e),o.responseType=n,o.onload=function(){200==o.status?t(o.response):r(Error(o.statusText))},o.onerror=function(){r(Error("Network Error"))},"POST"==a&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(i)})}Object.defineProperty(e,"__esModule",{value:!0}),e.request=n,a.d(e,"get",function(){return i}),e.getAll=function(t){var e=[];return t.forEach(function(t){e.push(n(t).then(function(t){return new Promise(function(e,a){e(t)})}))}),Promise.all(e)},e.post=function(t){return t.method="POST",ajax.request(t)};let i=n},function(t,e,a){"use strict";function n(t,e,a){for(var n,i,r=!1,o=!1,s=a,u=a,c=[],l=t.length;!r;){if(10===(n=t.charCodeAt(s))||s>=l)r=!0,c.push(t.slice(u,s));else if(n!==e||o)34===n&&(o?t.charCodeAt(s+1)===e&&(o=!1,c.push(t.slice(i,s)),u=s+2,s++):(i=s+1,o=!0));else{var f=t.slice(u,s);c.push(f),u=s+1}s++}return{fields:c,size:s-a}}e.a=function(t,e){var a,i,r=t.length,o=0,s=[];for(;o<r;)a=o,!1,i=n(t,e.charCodeAt(0),a),s.push(i.fields),o+=i.size;return s}},function(t,e){t.exports=function(t){"use strict";var e=t.array||[],a=t.fields||t.header||e[0],n=t.types||[],i=t.schema||void 0,r=t.skip||0,o=t.data||[],s={},u=[];if(n.length&&"string"==typeof n){for(var c=[],l=0;l<a.length;l++)c.push(n);n=c}if("object"==typeof i&&(a=Object.keys(i),n=Object.keys(i).map(function(t){return i[t]})),"number"==typeof r)for(var f=0;f<r;f++)e.shift();return n.forEach(function(t){var e;u.push("int"==(e=t)||e.match("veci*")?function(t){var e=parseInt(t);return isNaN(e)?0:e}:"float"==e||e.match("vecf*")?function(t){var e=parseFloat(t);return isNaN(e)?0:e}:-1!=["date","time","datetime"].indexOf(e)?function(t){return new Date(t)}:-1!=["money","price","cost"].indexOf(e)?function(t){return parseFloat(t.substring(1))}:function(t){return t})}),s.insertRows=function(t){e=e.concat(t)},s.objectArray=function(){if(void 0!==a&&a.length){var t=a.length;e.forEach(function(e){for(var i={},r=0,s=0;s<t;s++){var c=a[s];if(c.length)if(n[s].match(/^(veci|vecf)\d+$/)){var l=parseInt(n[s].slice(4)),f=[];e.slice(r,r+l).forEach(function(t){f.push(u[s](t))}),i[c]=f,r+=l}else i[c]=u[s](e[r]),r++}o.push(i)})}return o},s.rowArray=function(){return e.forEach(function(t){var e=[];a.forEach(function(a,n){a.length&&e.push(u[n](t[n]))}),o.push(e)}),o.fields=a,o.schema="rowArray",o},s.columnArray=function(){return a.forEach(function(t,a){var n=e.map(function(t){return u[a](t[a])});o.push(n)}),o.fields=a,o.schema="columnArray",o},s}},function(t,e,a){const n=a(19),i=a(68),r=a(4),o=a(5);t.exports=function(t){var e=[],a={},s={},u=[];Array.isArray(t)&&(u=t),s.derive=n,s.match=o,s.aggregate=r,Object.keys(i).forEach(function(t){s[t]=i[t]}),s.cache=function(t,e){a[e]=c.result()},s.map=function(e){return u=t.map(e),c};var c={};return Object.keys(s).forEach(function(t){c[t]=function(a){var n={};return n[t]=a,e.push(n),c}}),c.then=function(t){return t,e.forEach(function(t){var e=Object.keys(t)[0];u=s[e](u,t[e])}),u},c.execute=function(t){return Array.isArray(t)&&(u=t),e.forEach(function(t){var e=Object.keys(t)[0];u=s[e](u,t[e])}),u},c.oncomplete=c.then,c.result=function(){return u},c.data=function(t){return u=t,c},c.queue=function(){return e},c}},function(t,e,a){const n=a(0),i=a(4),r=a(5);var o={};o.match=r,o.group=i,o.indexBy=function(t,e){var a={};return t.forEach(function(t){a.hasOwnProperty(t[e])?a[t[e]].push(t):a[t[e]]=[t],delete t[e]}),a},o.range=function(t,e){var a=t.map(function(t){return t[e]});return[n.min(a),n.max(a)]},o.map=function(t,e){var a=function(t){return t};return"string"==typeof e?a=function(t){return t[e]}:"function"==typeof e&&(a=e),t.map(a)},o.sortBy=function(t,e){function a(t,e,a){return t[a]>e[a]?1:t[a]<e[a]?-1:0}return t.sort(function(t,n){for(var i=0,r=0,o=Object.keys(e),s=o.length;0===i&&r<s;)i=a(t,n,o[r])*e[o[r]],r++;return i})},o.orderBy=function(t,e,a){var n={};return e.forEach(function(t){n[t]=a}),o.sort(t,n)},o.histogram=function(t,e,a,i){var r={};for(var o in e)r[o]=n.histogram(t.map(function(t){return t[o]}),e[o],a,i);return r},o.binAggregate=function(t,e){for(var a=Object.keys(e)[0],i=Object.keys(e).filter(function(t){return"$data"!=t&&t!=a})||[],r=e.$data||!1,s=e[a],u=t.map(function(t){return t[a]}),c=u.length,l=n.min(u),f=n.max(u)-l,d=[],h=0;h<s;h++)d[h]={binID:h,rangeBegin:l+f*(h/s),rangeEnd:l+f*(h+1)/s,count:0},d[h].data=[];for(var p=0;p<c;p++)binID=Math.floor((u[p]-l)/f*s),binID==s&&binID--,t[p].binID=binID,d[binID].data.push(t[p]);e.$by="binID",delete e[a];var m=o.group(t,e);return m=o.indexBy(m,"binID"),d.forEach(function(t){m.hasOwnProperty(t.binID)?(i.forEach(function(e){t[e]=m[t.binID][0][e]}),r&&(t.data=m[t.binID][0].data)):i.forEach(function(e){t[e]=0})}),d},o.partition=function(t,e){for(var a,n=t.length,i=Math.ceil(n/e),r=[],o=0;o<e;o++)r[o]={partition:o,data:[],count:0};for(var s=0;s<n;s++)r[a=Math.floor(s/i)].data.push(t[s]),r[a].count++;return r},o.partitionBy=function(t,e){var a,n=t.length,i=[],r=Object.keys(e)[0],o=e[r];o.forEach(function(t,e){i[e]={partition:e,data:[],count:0,name:t}});for(var s=0;s<n;s++)(a=o.indexOf(t[s][r]))>-1&&(i[a].data.push(t[s]),i[a].count++);return i},o.normalize=function(t,e){var a={};return e.forEach(function(e){var i=t.map(function(t){return t[e]});a[e]=n.normalize(i)}),t.forEach(function(t,n){e.forEach(function(e){t[e]=a[e][n]})}),t},o.toColumnArray=function(t){var e=[];return attributes=Object.keys(t[0]).filter(function(t){return t}),attributes.forEach(function(a){e.push(t.map(function(t){return t[a]}))}),e.fields=attributes,attributes.forEach(function(t,a){e[t]=e[a]}),e},t.exports=o},function(t,e){t.exports=function(t,e){var a=t.length,n=Object.keys(t[0]);return Object.keys(e[0]).filter(function(t){return-1===n.indexOf(t)}).forEach(function(n){for(var i=0;i<a;i++)t[i][n]=e[i][n]}),t}},function(t,e,a){var n=a(0);function i(t,e){if(!Array.isArray(t))throw new Error("Inproper input data format.");var a={};return e.forEach(function(e){var i=t.map(function(t){return t[e]});a[e]={min:n.min(i),max:n.max(i),avg:n.avg(i),std:n.std(i)}}),a}i.domains=function(t,e){if(!Array.isArray(t))throw new Error("Inproper input data format.");var a={};return e.forEach(function(e){var i=t.map(function(t){return t[e]});a[e]=[n.min(i),n.max(i)]}),a},t.exports=i},function(t,e){t.exports=function(t){var e=t.$id||t.$by,a=Object.keys(t);if(!e)throw Error("No id specified for embed!");return a.filter(function(t){return"$by"!=t&&"$id"!=t}).forEach(function(a){t[a][0][e];var n=0,i=(data.length,t[a].length),r=data.map(function(t){return t[a]=[],t[e]});for(n=0;n<i;n++){var o=r.indexOf(t[a][n][e]);-1!==o&&data[o][a].push(t[a][n])}}),data}},function(t,e){t.exports=function(t,e){var a=e||{},n=a.fields||Object.keys(t[0])||[];return"row"==(a.format||"row")?t.map(function(t){var e=new Array(n.length);return n.forEach(function(a,n){e[n]=t[a]}),e}):n.map(function(e){return t.map(function(t){return t[e]})})}},function(t,e,a){"use strict";e.a=[{tag:"AMG on Dragonfly Adaptive",path:"dfly-2550-adaptive-amg-1728",topology:"drgonfly",groups:51,routers:510,terminals:2550},{tag:"AMR Boxlib on Dragonfly Adaptive",path:"dfly-2550-adaptive-amr",topology:"drgonfly",groups:51,routers:510,terminals:2550},{tag:"Dragonfly Adaptive MiniFE",path:"dfly-2550-adaptive-minife",topology:"drgonfly",groups:51,routers:510,terminals:2550},{tag:"Random Group Placement Multi-Apps on Dfly",path:"dfly-5k-mapp-group",topology:"drgonfly",groups:73,routers:876,terminals:5256,jobAllocation:"./workloads.conf",jobs:["AMG","AMR Boxlib","MiniFE"]},{tag:"Random Router Placement Multi-Apps on Dfly",path:"dfly-5k-mapp-router",topology:"drgonfly",groups:73,routers:876,terminals:5256,jobAllocation:"./workloads.conf",jobs:["AMG","AMR Boxlib","MiniFE"]},{tag:"Hybird Placement Multi-Apps on Dfly",path:"dfly-5k-mapp-hybrid",topology:"drgonfly",groups:73,routers:876,terminals:5256,jobAllocation:"./workloads.conf",jobs:["AMG","AMR Boxlib","MiniFE"]}]},function(t,e,a){"use strict";e.a=function(t){var e={},a=(t.data,t.container||document.body),c=new i.b({container:a,margin:10,cols:[{id:"global-links",width:.25},{id:"local-links",width:.25},{id:"terminal-metrics",width:.5}]});return o.terminals=new i.c({container:c.cell("terminal-metrics"),id:"panel-terminals",title:"Terminals",padding:20,header:{height:.05,style:{backgroundColor:"#F4F4F4"}}}),o.localLinks=new i.c({container:c.cell("local-links"),id:"panel-local-links",title:"Local Links",padding:20,header:{height:.05,style:{backgroundColor:"#F4F4F4"}}}),o.globalLinks=new i.c({container:c.cell("global-links"),id:"panel-global-links",title:"Global Links",padding:20,header:{height:.05,style:{backgroundColor:"#F4F4F4"}}}),e.update=function(t){Object.keys(o).forEach(function(t){o[t].clear()});var e=Object(r.a)(t);s=e.numJobs,function(t){console.log(t);var e={};e.localLinks=Object(n.a)({container:o.localLinks.body,padding:{left:70,right:20,top:10,bottom:70},viewport:[o.localLinks.innerWidth,o.localLinks.innerHeight]}).data(t.localLinks).view(u(o.localLinks.innerWidth,o.localLinks.innerHeight)).visualize({id:"plot-local-links",mark:"point",x:"traffic",y:"sat_time",color:"steelblue",alpha:.5}),e.localLinks.aggregate({$bin:"traffic",$collect:{total_sat_time:{$sum:"sat_time"}}}).visualize({id:"plot-stats",mark:"bar",x:"traffic",y:"total_sat_time",color:"steelblue"}),Object(n.a)({container:o.globalLinks.body,padding:{left:70,right:20,top:10,bottom:70},viewport:[o.globalLinks.innerWidth,o.globalLinks.innerHeight]}).data(t.globalLinks).view(u(o.globalLinks.innerWidth,o.globalLinks.innerHeight)).visualize({id:"plot-global-links",mark:"point",x:"traffic",y:"sat_time",color:"purple",alpha:.5}).aggregate({$bin:"traffic",$collect:{total_sat_time:{$sum:"sat_time"}}}).visualize({id:"plot-stats",mark:"bar",x:"traffic",y:"total_sat_time",color:"purple"});var a,i,r=1==s?"teal":"job_id";e.terminals=Object(n.a)({data:t.terminals,container:o.terminals.body,padding:{left:70,right:50,top:30,bottom:70},viewport:[o.terminals.innerWidth,o.terminals.innerHeight],views:(a=o.terminals.innerWidth,i=o.terminals.innerHeight,[{width:a,height:i/2,offset:[0,0]},{width:a/2,height:i/2,offset:[0,i/2]},{width:a/2,height:i/2,offset:[a/2,i/2]}])}).visualize({id:"terminals",mark:"line",y:["terminal_id","avg_packet_latency","avg_hops","data_size","sat_time"],color:r,alpha:.25}).aggregate({$bin:"avg_packet_latency",$collect:{avg_hops:{$avg:"avg_hops"}}}).visualize({id:"avg_packet_latency",mark:"bar",x:"avg_packet_latency",y:"avg_hops",color:"teal"}),e.terminals.head().aggregate({$bin:"data_size",$collect:{Total_sat_time:{$sum:"sat_time"}}}).visualize({id:"sattime",mark:"bar",x:"data_size",y:"Total_sat_time",color:"teal"})}(e)},e};var n=a(2),i=a(20),r=a(75),o={},s=1;function u(t,e){return[{width:t,height:e/2,offset:[0,0]},{width:t,height:e/2,offset:[0,e/2]}]}},function(t,e,a){"use strict";e.a=function(t){var e={},a={};return console.log(Object.keys(t.terminals[0])),(a=r({size:t.terminals.length,keys:Object.keys(t.terminals[0]),types:["int","int","int","float","float","float","float","int","int","int","int","int"]})).addRows(Object(i.toArray)(t.terminals)),e.terminals=a.data(),e.terminals.stats=a.stats(),(a=r({size:t.localLinks.length,keys:Object.keys(t.localLinks[0]),types:["int","int","int","int","float","int","int"]})).addRows(Object(i.toArray)(t.localLinks)),e.localLinks=a.data(),e.localLinks.stats=a.stats(),(a=r({size:t.globalLinks.length,keys:Object.keys(t.globalLinks[0]),types:["int","int","int","int","float","int","int"]})).addRows(Object(i.toArray)(t.globalLinks)),e.globalLinks=a.data(),e.globalLinks.stats=a.stats(),e.numJobs=t.numJobs,e};a(6);var n=a(2),i=a(18);a.n(i);let r=n.a.cstore}]);
//# sourceMappingURL=codes-netvis.min.js.map